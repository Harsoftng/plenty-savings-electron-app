(this["webpackJsonpPlentySavings-admin-app"]=this["webpackJsonpPlentySavings-admin-app"]||[]).push([[31],{421:function(e,n,a){"use strict";var t=a(33),r=a(0),s=a.n(r),o=a(413),i=a(386),c=a(252),l=a(327),m=a(3);n.a=function(e){var n=e.type,a=e.children,d=e.title,u=e.className,p=void 0===u?"ml20 mr20":u,b=e.marginBottom,g=void 0===b||b,f=Object(r.useState)(!0),v=Object(t.a)(f,2),h=v[0],w=v[1];return s.a.createElement(i.a,{in:h,className:p},s.a.createElement(o.a,{className:Object(m.a)("alerts-alternate",{"mb-4":g}),severity:n,variant:"filled",action:s.a.createElement(c.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){w(!1)}},s.a.createElement(l.a,{fontSize:"inherit"}))},s.a.createElement("div",{className:"d-flex align-items-center align-content-start"},s.a.createElement("span",null,s.a.createElement("strong",{className:"d-block"},d),a))))}},424:function(e,n,a){"use strict";a.d(n,"b",(function(){return r})),a.d(n,"i",(function(){return s})),a.d(n,"a",(function(){return o})),a.d(n,"h",(function(){return i})),a.d(n,"c",(function(){return c})),a.d(n,"d",(function(){return l})),a.d(n,"g",(function(){return m})),a.d(n,"e",(function(){return d})),a.d(n,"f",(function(){return u}));var t=a(423),r=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,r=t.d().email("Invalid email address!").min(n,"Email addresses must be 10 characters or more!").max(a,"Email addresses must be 255 characters or less!");return e&&(r=r.required("A valid email is required!")),r},s=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,r=t.d().min(n,"Value must be "+n+" characters or more!").max(a,"Value must be "+a+" characters or less!");return e&&(r=r.required("A value is required!")),r},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Please select a value!";return t.b().shape({value:t.d().required(e),text:t.d().required(e)})},i=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=t.d();return e&&(n=n.required("Please select a value!")),n},c=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=t.a().typeError("A valid number is required!");return e&&(n=n.required("A valid number is required!")),n},l=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=/^[0-9]\d*(((,\d{3}){1})*(\.\d{0,2})?)$/,a=t.d().matches(n,"A valid amount is required!");return e&&(a=a.required("A valid amount is required!")),a},m=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,a=t.d().matches(n,"Phone number is not valid");return e&&(a=a.required("A valid phone number is required!")),a},d=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,s=t.d().min(a,"Passwords must be 6 characters or more!").max(r,"Passwords must be 50 characters or less!");return e&&(s=s.matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{6,}$/,"Passwords must contain at least 6 characters consisting of at least one uppercase, one lowercase, one number and one special case character")),n&&(s=s.required("A valid password is required")),s},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"password",n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=t.d().oneOf([t.c(e),null],"Passwords must match");return n&&(a=a.required("Please confirm your password!")),a}},444:function(e,n,a){"use strict";a.d(n,"c",(function(){return u})),a.d(n,"g",(function(){return p})),a.d(n,"f",(function(){return b})),a.d(n,"b",(function(){return g})),a.d(n,"d",(function(){return f})),a.d(n,"a",(function(){return v})),a.d(n,"e",(function(){return h}));var t=a(47),r=a(21);function s(){var e=Object(t.a)(["\n  mutation EditUserPermission($email: String!, $permissions: [String!]!) {\n    response: change_user_permission(email: $email, permissions: $permissions) {\n      status\n      code\n      message\n      errors\n    }\n  }\n"]);return s=function(){return e},e}function o(){var e=Object(t.a)(["\n  mutation ChangeUserStatus($emails: [String!]!, $status: String!) {\n    response: change_user_status(emails: $emails, status: $status) {\n      __typename\n      ... on Response {\n        status\n        code\n        message\n        errors\n      }\n      ... on StatusResponse {\n        status\n        code\n        message\n        ids\n      }\n    }\n  }\n"]);return o=function(){return e},e}function i(){var e=Object(t.a)(["\n  mutation DeleteUserAccounts($emails: [String!]!) {\n    response: delete_users(emails: $emails) {\n      __typename\n      ... on Response {\n        status\n        code\n        message\n        errors\n      }\n      ... on StatusResponse {\n        status\n        code\n        message\n        ids\n      }\n    }\n  }\n"]);return i=function(){return e},e}function c(){var e=Object(t.a)(["\n  mutation ChangePassword(\n    $old_password: String!\n    $password: String!\n    $password_confirmation: String!\n  ) {\n    response: change_password(\n      old_password: $old_password\n      password: $password\n      password_confirmation: $password_confirmation\n    ) {\n      status\n      code\n      message\n      errors\n    }\n  }\n"]);return c=function(){return e},e}function l(){var e=Object(t.a)(["\n  mutation UpdateAccount(\n    $name: String!\n    $email: String!\n    $phone_number: String!\n    $last_name: String!\n    $first_name: String!\n    $branch_code: String!\n  ) {\n    response: update_user(\n      name: $name\n      email: $email\n      phone_number: $phone_number\n      last_name: $last_name\n      first_name: $first_name\n      branch_code: $branch_code\n    ) {\n      status\n      code\n      message\n      errors\n    }\n  }\n"]);return l=function(){return e},e}function m(){var e=Object(t.a)(["\n  mutation UpdateAccount(\n    $name: String!\n    $email: String!\n    $phone_number: String!\n    $last_name: String!\n    $first_name: String!\n    $branch_code: String!\n  ) {\n    response: update_profile(\n      name: $name\n      email: $email\n      phone_number: $phone_number\n      last_name: $last_name\n      first_name: $first_name\n      branch_code: $branch_code\n    ) {\n      status\n      code\n      message\n      errors\n    }\n  }\n"]);return m=function(){return e},e}function d(){var e=Object(t.a)(["\n  mutation CreateAccount(\n    $name: String!\n    $email: String!\n    $password: String!\n    $password_confirmation: String!\n    $phone_number: String!\n    $last_name: String!\n    $first_name: String!\n    $permissions: [String!]!\n    $avatar_id: String!\n    $privilegeCombo: String!\n    $branch_code: String!\n  ) {\n    response: create_user(\n      name: $name\n      email: $email\n      password: $password\n      password_confirmation: $password_confirmation\n      phone_number: $phone_number\n      last_name: $last_name\n      first_name: $first_name\n      permissions: $permissions\n      avatar_id: $avatar_id\n      privilegeCombo: $privilegeCombo\n      branch_code: $branch_code\n    ) {\n      status\n      code\n      message\n      errors\n    }\n  }\n"]);return d=function(){return e},e}var u=Object(r.gql)(d()),p=Object(r.gql)(m()),b=Object(r.gql)(l()),g=Object(r.gql)(c()),f=Object(r.gql)(i()),v=Object(r.gql)(o()),h=Object(r.gql)(s())},481:function(e,n,a){"use strict";var t=a(13),r=a(33),s=a(177),o=a(0),i=a.n(o),c=a(420),l=a(507),m=a(252),d=a(416),u=a(9),p=Object(u.a)(i.a.createElement(i.a.Fragment,null,i.a.createElement("g",{fill:"none"},i.a.createElement("path",{d:"M0 0h24v24H0V0z"}),i.a.createElement("path",{d:"M0 0h24v24H0V0z",opacity:".87"})),i.a.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"})),"LockOutlined"),b=Object(u.a)(i.a.createElement("path",{d:"M12 4C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"VisibilityRounded"),g=Object(u.a)(i.a.createElement("path",{d:"M12 6.5c2.76 0 5 2.24 5 5 0 .51-.1 1-.24 1.46l3.06 3.06c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l2.17 2.17c.47-.14.96-.24 1.47-.24zM2.71 3.16c-.39.39-.39 1.02 0 1.41l1.97 1.97C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.97-.3 4.31-.82l2.72 2.72c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L4.13 3.16c-.39-.39-1.03-.39-1.42 0zM12 16.5c-2.76 0-5-2.24-5-5 0-.77.18-1.5.49-2.14l1.57 1.57c-.03.18-.06.37-.06.57 0 1.66 1.34 3 3 3 .2 0 .38-.03.57-.07L14.14 16c-.65.32-1.37.5-2.14.5zm2.97-5.33c-.15-1.4-1.25-2.49-2.64-2.64l2.64 2.64z"}),"VisibilityOffRounded"),f=a(506);n.a=function(e){var n=e.label,a=Object(s.a)(e,["label"]),u=Object(c.d)(a),v=Object(r.a)(u,2),h=v[0],w=v[1],_=Object(o.useState)(h.value),E=Object(r.a)(_,2),$=E[0],O=E[1],j=Object(o.useState)({password:"",showPassword:!1}),S=Object(r.a)(j,2),P=S[0],C=S[1],y=function(){C(Object(t.a)(Object(t.a)({},P),{},{showPassword:!P.showPassword}))},N=function(e){e.preventDefault()},q=Object(f.a)((function(e){h.onChange&&h.onChange(e)}),200);Object(o.useEffect)((function(){""===h.value&&O("")}),[h.value]);var A=Object(o.useCallback)((function(e){e.persist();var n=e.currentTarget.value;O(n),q.callback(e)}),[q]),k={};return k=a.icon?{startAdornment:i.a.createElement(l.a,{position:"start"},i.a.createElement(p,null)),endAdornment:i.a.createElement(l.a,{position:"end"},i.a.createElement(m.a,{"aria-label":"Toggle password visibility",onClick:y,onMouseDown:N},P.showPassword?i.a.createElement(b,null):i.a.createElement(g,null)))}:{endAdornment:i.a.createElement(l.a,{position:"end"},i.a.createElement(m.a,{"aria-label":"Toggle password visibility",onClick:y,onMouseDown:N},P.showPassword?i.a.createElement(b,null):i.a.createElement(g,null)))},i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,Object.assign({fullWidth:!0,variant:"outlined",label:n,value:$,onChange:A,onBlur:h.onBlur},a,{type:P.showPassword?"text":"password",InputProps:k})),w.touched&&w.error?i.a.createElement("div",{className:"oak-input-error"},w.error):null)}},522:function(e,n,a){"use strict";var t=a(1),r=a(6),s=a(0),o=(a(5),a(3)),i=a(7),c=s.forwardRef((function(e,n){var a=e.disableSpacing,i=void 0!==a&&a,c=e.classes,l=e.className,m=Object(r.a)(e,["disableSpacing","classes","className"]);return s.createElement("div",Object(t.a)({className:Object(o.a)(c.root,l,!i&&c.spacing),ref:n},m))}));n.a=Object(i.a)({root:{display:"flex",alignItems:"center",padding:8},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiCardActions"})(c)},695:function(e,n,a){"use strict";a.r(n),a.d(n,"default",(function(){return q}));var t=a(0),r=a.n(t),s=a(321),o=a(183),i=a(180),c=a(370),l=a(161),m=a.n(l),d=a(178),u=a(33),p=a(420),b=a(407),g=a(408),f=a(522),v=a(247),h=a(423),w=a(424),_=a(21),E=a(14),$=a(421),O=a(96),j=a(444),S=a(44),P=a(45),C=a(181),y=a(481),N=function(){var e=Object(E.c)(),n=Object(t.useState)(!1),a=Object(u.a)(n,2),o=a[0],i=a[1],l=Object(_.useMutation)(j.b,{errorPolicy:"all",fetchPolicy:"no-cache"}),N=Object(u.a)(l,2),q=N[0],A=N[1],k=A.error,z=A.data,x=Object(C.b)().getConfirmation;Object(t.useEffect)((function(){(k||z)&&i(!1),Object(S.b)(k,e),z&&("success"===z.response.status?e(Object(P.a)(z.response.message,"success")):Object(S.a)(z.response,e))}),[k,e,z]);var M=h.b({old_password:w.e(!1),password:w.e(),password_confirmation:w.f()}),V=function(){var e=Object(d.a)(m.a.mark((function e(n,a){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.setSubmitting,e.next=3,x({title:"Attention!",type:"warning",okText:"Proceed",cancelText:"Cancel",message:"Are you sure you would like to change your password?"});case 3:if(!e.sent){e.next=9;break}return e.next=7,q({variables:{old_password:n.old_password,password:n.password,password_confirmation:n.password_confirmation}});case 7:t(!1),i(!1);case 9:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.c,{initialValues:{old_password:"",password:"",password_confirmation:""},onSubmit:V,validateOnChange:!0,validationSchema:M},(function(e){var n=e.isSubmitting;return r.a.createElement(p.b,{className:"mt20"},r.a.createElement(b.a,{variant:"elevation",className:"card-box"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"card-header--title text-center d-block"},r.a.createElement("div",{className:"color-swatch"},r.a.createElement("div",{className:"color-swatch--bg h-auto bg-composed-wrapper bg-neutral-info"},r.a.createElement("div",{className:"bg-composed-wrapper--image bg-composed-img-6"}),r.a.createElement("div",{className:"bg-composed-wrapper--content p-5"},r.a.createElement("h5",{className:"mb-1"},"Users"),r.a.createElement("p",{className:"mb-0 opacity-7"},"Change Password")))))),r.a.createElement(g.a,null,r.a.createElement($.a,{title:"Information!",type:"info"},"Please fill in the form below and click on the Change Password button to save changes. All fields marked (*) are compulsory."),r.a.createElement(s.a,{container:!0,spacing:3,className:"pr20 pl20 mt10"},r.a.createElement(s.a,{item:!0,md:12},r.a.createElement(y.a,{id:"old_password",name:"old_password",label:"Old Password *",placeholder:"Old Password"})),r.a.createElement(s.a,{item:!0,md:6},r.a.createElement(y.a,{id:"password",name:"password",label:"Password *",icon:"true"})),r.a.createElement(s.a,{item:!0,md:6},r.a.createElement(y.a,{id:"password_confirmation",name:"password_confirmation",label:"Confirm Password *",icon:"true"}))),r.a.createElement("div",{className:"mb30"})),r.a.createElement("div",{className:"divider"}),r.a.createElement(f.a,{className:"p20"},r.a.createElement(v.a,{disabled:n||o,type:"submit",className:"btn-second font-weight-bold"},n||o?r.a.createElement("div",{className:"pt5"},r.a.createElement(O.BeatLoader,{color:"var(--second)",loading:!0})):r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,null)," \xa0 Change Password")))))})))};function q(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{title:"Change Password"}),r.a.createElement(o.a,{titleHeading:"Change Password",titleDescription:"Change your password.",breadCrumbTitle:"User Accounts Mgt.",breadCrumbSubTitle:"Change Password",Icon:c.a}),r.a.createElement(s.a,{container:!0,spacing:2,className:"d-flex align-items-center justify-content-center mb50"},r.a.createElement(s.a,{item:!0,md:8},r.a.createElement(N,null))))}}}]);