(this["webpackJsonpThriftShop-admin-app"]=this["webpackJsonpThriftShop-admin-app"]||[]).push([[37],{489:function(e,n,a){"use strict";a.d(n,"d",(function(){return u})),a.d(n,"a",(function(){return d})),a.d(n,"b",(function(){return p})),a.d(n,"c",(function(){return b})),a.d(n,"e",(function(){return h})),a.d(n,"f",(function(){return f}));var t=a(47),r=a(21);function c(){var e=Object(t.a)(["\n  query GetUserAccountAndBranches($email: Email!) {\n    user(email: $email) {\n      name\n      first_name\n      last_name\n      email\n      phone_number\n      photo_thumbnail_url\n      branch {\n        branch_code\n        branch_name\n      }\n    }\n    branches(\n      page: 1\n      first: 100\n      orderBy: [{ column: BRANCH_NAME, order: ASC }]\n    ) {\n      data {\n        branch_code\n        branch_name\n      }\n    }\n  }\n"]);return c=function(){return e},e}function i(){var e=Object(t.a)(["\n  query GetUserAccount($email: Email!) {\n    user(email: $email) {\n      name\n      first_name\n      last_name\n      email\n      phone_number\n      photo_thumbnail_url\n      blocked\n      created_at\n      created_by\n      permissions {\n        id\n        name\n        display_name\n      }\n      branch {\n        branch_code\n        branch_name\n      }\n    }\n  }\n"]);return i=function(){return e},e}function l(){var e=Object(t.a)(["\n  query GetAllUserAccountsFilter($page: Int!, $search: Mixed!) {\n    response: users_filter(\n      page: $page\n      orderBy: [{ column: NAME, order: ASC }]\n      where: {\n        OR: [\n          { column: NAME, operator: LIKE, value: $search }\n          { column: EMAIL, operator: LIKE, value: $search }\n          { column: PHONE_NUMBER, operator: LIKE, value: $search }\n        ]\n      }\n    ) {\n      paginatorInfo {\n        currentPage\n        lastPage\n        total\n        perPage\n        count\n      }\n      data {\n        name\n        email\n        phone_number\n        photo_thumbnail_url\n        blocked\n        permissions {\n          name\n          display_name\n        }\n        branch {\n          branch_code\n          branch_name\n        }\n      }\n    }\n  }\n"]);return l=function(){return e},e}function o(){var e=Object(t.a)(["\n  query GetAllUserAccounts($page: Int!) {\n    response: users(page: $page, orderBy: [{ column: NAME, order: ASC }]) {\n      paginatorInfo {\n        currentPage\n        lastPage\n        total\n        perPage\n        count\n      }\n      data {\n        name\n        email\n        phone_number\n        photo_thumbnail_url\n        blocked\n        permissions {\n          name\n          display_name\n        }\n        branch {\n          branch_code\n          branch_name\n        }\n      }\n    }\n  }\n"]);return o=function(){return e},e}function m(){var e=Object(t.a)(["\n  query GetAllPermissionsAndUserPermission($email: Email!) {\n    permissions(orderBy: [{ column: PERMISSIONS_GROUP, order: ASC }]) {\n      id\n      name\n      display_name\n      description\n      permissions_group\n    }\n    user(email: $email) {\n      name\n      email\n      photo_thumbnail_url\n      permissions {\n        id\n        name\n      }\n    }\n  }\n"]);return m=function(){return e},e}function s(){var e=Object(t.a)(["\n  query GetPermissions {\n    permissions(orderBy: [{ column: PERMISSIONS_GROUP, order: ASC }]) {\n      id\n      name\n      display_name\n      description\n      permissions_group\n    }\n    branches(\n      page: 1\n      first: 100\n      orderBy: [{ column: BRANCH_NAME, order: ASC }]\n    ) {\n      data {\n        branch_code\n        branch_name\n      }\n    }\n  }\n"]);return s=function(){return e},e}var u=Object(r.gql)(s()),d=Object(r.gql)(m()),p=Object(r.gql)(o()),b=Object(r.gql)(l()),h=Object(r.gql)(i()),f=Object(r.gql)(c())},675:function(e,n,a){"use strict";a.r(n),a.d(n,"default",(function(){return P}));var t=a(33),r=a(0),c=a.n(r),i=a(321),l=a(407),o=a(408),m=a(415),s=a(174),u=a(247),d=a(180),p=a(14),b=a(44),h=a(43),f=a(21),E=a(81),_=a(489),g=a(74),y=a(409),N=a(327),A=a(3),O=a(246),j=a(100),v=Object(O.a)((function(e){return{small:{width:e.spacing(9),height:e.spacing(9)},large:{width:e.spacing(14),height:e.spacing(14)}}}));function P(e){var n=e.match,a=Object(p.c)(),O=v(),P=Object(r.useState)({permissions:[],branch:[]}),w=Object(t.a)(P,2),S=w[0],$=w[1],q=n.params.id,B=Object(f.useQuery)(_.e,{errorPolicy:"all",fetchPolicy:"no-cache",onCompleted:function(e){!function(e){e&&(console.log(e),e.user?$(e.user):Object(h.a)(e.response,a))}(e)},onError:function(e){Object(E.d)(e,a)},variables:{email:q}}).loading;return n.params.id?c.a.createElement(c.a.Fragment,null,c.a.createElement(d.a,{title:"View Profile"}),B?c.a.createElement(j.a,null):c.a.createElement(i.a,{container:!0,spacing:6,className:"d-flex justify-content-center p20 bg-gray-300"},c.a.createElement(i.a,{item:!0,xl:12,className:""},c.a.createElement(l.a,{variant:"elevation",className:"card-box "},c.a.createElement(o.a,null,c.a.createElement("div",{className:"pr20 pl20"},c.a.createElement("div",{className:"text-center"},c.a.createElement("div",{className:"d-flex flex-column justify-content-center align-items-center"},c.a.createElement(m.a,{className:Object(A.a)(O.large,"mb20"),variant:"circle",alt:"User",src:S.photo_thumbnail_url,color:"primary"}),c.a.createElement(s.a,{variant:"h5",className:"display-4 mb-1 font-weight-bold"},"User Account Profile")))),c.a.createElement(i.a,{container:!0,spacing:3,className:"pr20 pl20 mt10 mb20"},c.a.createElement(i.a,{item:!0,sm:6},c.a.createElement(g.a,{title:"Last Name",content:S.last_name})," "),c.a.createElement(i.a,{item:!0,sm:6},c.a.createElement(g.a,{title:"First Name",content:S.first_name})," "),c.a.createElement(i.a,{item:!0,sm:6},c.a.createElement(g.a,{title:"Email Address",content:S.email})," "),c.a.createElement(i.a,{item:!0,sm:6},c.a.createElement(g.a,{title:"Phone Number",content:S.phone_number})," "),c.a.createElement(i.a,{item:!0,sm:6},c.a.createElement(g.a,{title:"Branch",content:S.branch.branch_name})," "),c.a.createElement(i.a,{item:!0,sm:6},c.a.createElement(g.a,{title:"Registered By",content:S.created_by||"N/A"})," "),c.a.createElement(i.a,{item:!0,sm:12},c.a.createElement(g.a,{title:"Registration date",content:E.a.getUserFriendlyDateTime(S.created_at)})," "),c.a.createElement(i.a,{item:!0,sm:12},c.a.createElement(g.a,{title:"Permissions",content:S.permissions.map((function(e){return c.a.createElement("label",{className:"bg-first ml10 mb10 rounded pb5 pt5 pl20 pr20 fs14 text-white",key:e.id},e.display_name)}))})," ")),c.a.createElement("div",{className:"no-print"},c.a.createElement("div",{className:"p20 d-flex align-items-between justify-content-between"},c.a.createElement(u.a,{type:"button",className:"btn-second font-weight-bold",onClick:function(){E.a.hideNonPrintableArea(),window.print(),E.a.hideNonPrintableArea(!1)}},c.a.createElement(y.a,null)," \xa0 Print"),c.a.createElement(u.a,{type:"button",className:"btn-second font-weight-bold",onClick:function(){window.close()}},c.a.createElement(N.a,null)," \xa0 Close")))))))):(a(Object(b.a)("This record you are trying to view does not exist. Please try again later!","error")),null)}}}]);