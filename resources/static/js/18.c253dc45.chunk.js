(this["webpackJsonpThriftShop-admin-app"]=this["webpackJsonpThriftShop-admin-app"]||[]).push([[18],{421:function(e,a,t){"use strict";var n=t(33),r=t(0),c=t.n(r),l=t(413),i=t(386),o=t(252),s=t(327),m=t(3);a.a=function(e){var a=e.type,t=e.children,d=e.title,u=e.className,b=void 0===u?"ml20 mr20":u,h=e.marginBottom,f=void 0===h||h,p=Object(r.useState)(!0),g=Object(n.a)(p,2),v=g[0],E=g[1];return c.a.createElement(i.a,{in:v,className:b},c.a.createElement(l.a,{className:Object(m.a)("alerts-alternate",{"mb-4":f}),severity:a,variant:"filled",action:c.a.createElement(o.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){E(!1)}},c.a.createElement(s.a,{fontSize:"inherit"}))},c.a.createElement("div",{className:"d-flex align-items-center align-content-start"},c.a.createElement("span",null,c.a.createElement("strong",{className:"d-block"},d),t))))}},424:function(e,a,t){"use strict";t.d(a,"b",(function(){return r})),t.d(a,"i",(function(){return c})),t.d(a,"a",(function(){return l})),t.d(a,"h",(function(){return i})),t.d(a,"c",(function(){return o})),t.d(a,"d",(function(){return s})),t.d(a,"g",(function(){return m})),t.d(a,"e",(function(){return d})),t.d(a,"f",(function(){return u}));var n=t(423),r=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,r=n.d().email("Invalid email address!").min(a,"Email addresses must be 10 characters or more!").max(t,"Email addresses must be 255 characters or less!");return e&&(r=r.required("A valid email is required!")),r},c=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,r=n.d().min(a,"Value must be "+a+" characters or more!").max(t,"Value must be "+t+" characters or less!");return e&&(r=r.required("A value is required!")),r},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Please select a value!";return n.b().shape({value:n.d().required(e),text:n.d().required(e)})},i=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=n.d();return e&&(a=a.required("Please select a value!")),a},o=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=n.a().typeError("A valid number is required!");return e&&(a=a.required("A valid number is required!")),a},s=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=/^[0-9]\d*(((,\d{3}){1})*(\.\d{0,2})?)$/,t=n.d().matches(a,"A valid amount is required!");return e&&(t=t.required("A valid amount is required!")),t},m=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,t=n.d().matches(a,"Phone number is not valid");return e&&(t=t.required("A valid phone number is required!")),t},d=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,c=n.d().min(t,"Passwords must be 6 characters or more!").max(r,"Passwords must be 50 characters or less!");return e&&(c=c.matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{6,}$/,"Passwords must contain at least 6 characters consisting of at least one uppercase, one lowercase, one number and one special case character")),a&&(c=c.required("A valid password is required")),c},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"password",a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=n.d().oneOf([n.c(e),null],"Passwords must match");return a&&(t=t.required("Please confirm your password!")),t}},426:function(e,a,t){"use strict";var n=t(33),r=t(177),c=t(0),l=t.n(c),i=t(420),o=t(507),s=t(416),m=t(519),d=t(506);a.a=function(e){var a=e.label,t=e.readOnly,u=Object(r.a)(e,["label","readOnly"]),b=Object(i.d)(u),h=Object(n.a)(b,2),f=h[0],p=h[1],g=Object(c.useState)(f.value),v=Object(n.a)(g,2),E=v[0],O=v[1],j=Object(d.a)((function(e){f.onChange&&f.onChange(e)}),200);Object(c.useEffect)((function(){""===f.value?O(""):O(f.value)}),[f.value]);var w=Object(c.useCallback)((function(e){e.persist();var a=e.currentTarget.value;O(a),j.callback(e)}),[j]),_={};return u.icon&&(_={startAdornment:l.a.createElement(o.a,{position:"start"},u.icon?u.icon:l.a.createElement(m.a,null)),readOnly:t}),l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,Object.assign({fullWidth:!0,variant:"outlined",label:a,value:E,onChange:w,onBlur:f.onBlur},u,{InputProps:_})),p.touched&&p.error?l.a.createElement("div",{className:"oak-input-error"},p.error):null)}},429:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(666),l=t(667),i=t(668),o=t(612),s=t(702),m=t(246),d=Object(m.a)((function(){return{visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));a.a=function(e){var a=e.onSelectAllClick,t=e.order,n=e.orderBy,m=e.numSelected,u=e.rowCount,b=e.onRequestSort,h=e.headCells,f=d();return r.a.createElement(c.a,null,r.a.createElement(l.a,null,r.a.createElement(i.a,{padding:"checkbox"},r.a.createElement(o.a,{indeterminate:m>0&&m<u,checked:u>0&&m===u,onChange:a,inputProps:{"aria-label":"select all records"}})),h.map((function(e){return r.a.createElement(i.a,{key:e.id,style:(e.width,{width:e.width}),align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&t},r.a.createElement(s.a,{active:n===e.id,direction:n===e.id?t:"asc",onClick:(a=e.id,function(e){b(e,a)})},e.label,n===e.id?r.a.createElement("span",{className:f.visuallyHidden},"desc"===t?"sorted descending":"sorted ascending"):null));var a}))))}},430:function(e,a,t){"use strict";var n=t(97),r=t(33),c=t(0),l=t.n(c),i=t(246),o=t(31),s=t(3),m=t(326),d=t(174),u=t(416),b=t(507),h=t(669),f=t(506),p=Object(i.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:"#FFF",backgroundColor:Object(o.e)("#070919",.3)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}}));a.a=function(e){var a=e.numSelected,t=e.onSearchChange,i=e.onSearchKeyPressed,o=e.children,g=e.searchValue,v=p(),E=Object(c.useState)(g),O=Object(r.a)(E,2),j=O[0],w=O[1],_=Object(f.a)((function(e){t&&t(e)}),200),y=Object(c.useCallback)((function(e){e.persist();var a=e.currentTarget.value;w(a),_.callback(e)}),[_]);return l.a.createElement(m.a,{className:Object(s.a)(v.root,Object(n.a)({},v.highlight,a>0))},a>0?l.a.createElement(d.a,{className:v.title,color:"inherit",variant:"subtitle1",component:"div"},a," selected"):l.a.createElement("div",{className:"fluid-width"},l.a.createElement("div",{className:"search-wrapper mr10 mb10"},l.a.createElement(u.a,{variant:"outlined",fullWidth:!0,size:"medium",value:j,id:"input-search",placeholder:"Search",margin:"normal",onChange:y,InputProps:{startAdornment:l.a.createElement(b.a,{position:"start"},l.a.createElement(h.a,null)),onKeyUp:function(e){i(e)}}}))),a>0&&o)}},432:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(441);a.a=function(){return r.a.createElement("div",{className:"mb-spacing-6-x2"},r.a.createElement("div",{className:"pl20 pr20 pb20 pt20 d-flex align-items-between justify-content-between flex-row"},r.a.createElement(c.a,{variant:"rect",animation:"wave",height:50,width:"30%",className:"mb10"}),r.a.createElement(c.a,{variant:"rect",animation:"wave",height:50,width:"30%",className:"mb10"})),r.a.createElement("div",{className:"pl20 pr20 pb20"},r.a.createElement(c.a,{variant:"rect",animation:"wave",height:60,width:"100%",className:"mb5"}),r.a.createElement(c.a,{variant:"rect",animation:"wave",height:30,width:"100%",className:"mb5"}),r.a.createElement(c.a,{variant:"rect",animation:"wave",height:30,width:"100%",className:"mb5"}),r.a.createElement(c.a,{variant:"rect",animation:"wave",height:30,width:"100%",className:"mb5"}),r.a.createElement(c.a,{variant:"rect",animation:"wave",height:30,width:"100%",className:"mb5"}),r.a.createElement(c.a,{variant:"rect",animation:"wave",height:30,width:"100%",className:"mb30"})))}},441:function(e,a,t){"use strict";var n=t(1),r=t(6),c=t(0),l=t(3),i=(t(5),t(7)),o=c.forwardRef((function(e,a){var t=e.animation,i=void 0===t?"pulse":t,o=e.classes,s=e.className,m=e.component,d=void 0===m?"span":m,u=e.height,b=e.variant,h=void 0===b?"text":b,f=e.width,p=Object(r.a)(e,["animation","classes","className","component","height","variant","width"]);return c.createElement(d,Object(n.a)({ref:a,className:Object(l.a)(o.root,o[h],s,!1!==i&&o[i])},p,{style:Object(n.a)({width:f,height:u},p.style)}))}));a.a=Object(i.a)((function(e){return{root:{display:"block",backgroundColor:e.palette.action.hover,height:"1.2em"},text:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 60%",transform:"scale(1, 0.60)",borderRadius:e.shape.borderRadius,"&:empty:before":{content:'"\\00a0"'}},rect:{},circle:{borderRadius:"50%"},pulse:{animation:"$pulse 1.5s ease-in-out 0.5s infinite"},"@keyframes pulse":{"0%":{opacity:1},"50%":{opacity:.4},"100%":{opacity:1}},wave:{position:"relative",overflow:"hidden","&::after":{animation:"$wave 1.6s linear 0.5s infinite",background:"linear-gradient(90deg, transparent, ".concat(e.palette.action.hover,", transparent)"),content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}},"@keyframes wave":{"0%":{transform:"translateX(-100%)"},"60%":{transform:"translateX(100%)"},"100%":{transform:"translateX(100%)"}}}}),{name:"MuiSkeleton"})(o)},501:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(9);a.a=Object(c.a)(r.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zm3.17-7.83c.39-.39 1.02-.39 1.41 0L12 12.59l1.42-1.42c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41L13.41 14l1.42 1.42c.39.39.39 1.02 0 1.41-.39.39-1.02.39-1.41 0L12 15.41l-1.42 1.42c-.39.39-1.02.39-1.41 0a.9959.9959 0 010-1.41L10.59 14l-1.42-1.42c-.39-.38-.39-1.02 0-1.41zM15.5 4l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1h-2.5z"}),"DeleteForeverRounded")},514:function(e,a,t){"use strict";t.d(a,"a",(function(){return s})),t.d(a,"c",(function(){return m})),t.d(a,"b",(function(){return d})),t.d(a,"d",(function(){return u}));var n=t(47),r=t(21);function c(){var e=Object(n.a)(["\n  mutation RestoreBranchRecord($branch_codes: [String!]!) {\n    response: restore_branch(branch_codes: $branch_codes) {\n      __typename\n      ... on Response {\n        status\n        code\n        message\n        errors\n      }\n      ... on StatusResponse {\n        status\n        code\n        message\n        ids\n      }\n    }\n  }\n"]);return c=function(){return e},e}function l(){var e=Object(n.a)(["\n  mutation DeleteBranchRecord($branch_codes: [String!]!, $status: String!) {\n    response: delete_branch(branch_codes: $branch_codes, status: $status) {\n      __typename\n      ... on Response {\n        status\n        code\n        message\n        errors\n      }\n      ... on StatusResponse {\n        status\n        code\n        message\n        ids\n      }\n    }\n  }\n"]);return l=function(){return e},e}function i(){var e=Object(n.a)(["\n  mutation EditBranchRecord(\n    $branch_id: String!\n    $branch_code: String!\n    $branch_name: String!\n    $address: String!\n    $manager_name: String!\n    $phone_number: String!\n    $email: String!\n  ) {\n    response: update_branch(\n      branch_id: $branch_id\n      branch_code: $branch_code\n      branch_name: $branch_name\n      address: $address\n      manager_name: $manager_name\n      phone_number: $phone_number\n      email: $email\n    ) {\n      status\n      code\n      message\n      errors\n    }\n  }\n"]);return i=function(){return e},e}function o(){var e=Object(n.a)(["\n  mutation CreateBranchRecord(\n    $branch_code: String!\n    $branch_name: String!\n    $address: String!\n    $manager_name: String!\n    $phone_number: String!\n    $email: String!\n  ) {\n    response: create_branch(\n      branch_code: $branch_code\n      branch_name: $branch_name\n      address: $address\n      manager_name: $manager_name\n      phone_number: $phone_number\n      email: $email\n    ) {\n      status\n      code\n      message\n      errors\n    }\n  }\n"]);return o=function(){return e},e}var s=Object(r.gql)(o()),m=Object(r.gql)(i()),d=Object(r.gql)(l()),u=Object(r.gql)(c())},519:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(9);a.a=Object(c.a)(r.a.createElement("path",{d:"M3 5v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.11 0-2 .9-2 2zm12 4c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zm-9 8c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6v-1z"}),"AccountBox")},522:function(e,a,t){"use strict";var n=t(1),r=t(6),c=t(0),l=(t(5),t(3)),i=t(7),o=c.forwardRef((function(e,a){var t=e.disableSpacing,i=void 0!==t&&t,o=e.classes,s=e.className,m=Object(r.a)(e,["disableSpacing","classes","className"]);return c.createElement("div",Object(n.a)({className:Object(l.a)(o.root,s,!i&&o.spacing),ref:a},m))}));a.a=Object(i.a)({root:{display:"flex",alignItems:"center",padding:8},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiCardActions"})(o)},524:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(9);a.a=Object(c.a)(r.a.createElement("path",{d:"M14.65 4.98l-5-1.75c-.42-.15-.88-.15-1.3-.01L4.36 4.56C3.55 4.84 3 5.6 3 6.46v11.85c0 1.41 1.41 2.37 2.72 1.86l2.93-1.14c.22-.09.47-.09.69-.01l5 1.75c.42.15.88.15 1.3.01l3.99-1.34c.81-.27 1.36-1.04 1.36-1.9V5.69c0-1.41-1.41-2.37-2.72-1.86l-2.93 1.14c-.22.08-.46.09-.69.01zM15 18.89l-6-2.11V5.11l6 2.11v11.67z"}),"MapRounded")},574:function(e,a,t){"use strict";var n=t(1),r=t(6),c=t(0),l=(t(5),t(3)),i=t(7),o=c.forwardRef((function(e,a){var t=e.disableSpacing,i=void 0!==t&&t,o=e.classes,s=e.className,m=Object(r.a)(e,["disableSpacing","classes","className"]);return c.createElement("div",Object(n.a)({className:Object(l.a)(o.root,s,!i&&o.spacing),ref:a},m))}));a.a=Object(i.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(o)},597:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(9);a.a=Object(c.a)(r.a.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v1c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-1c0-2.66-5.33-4-8-4z"}),"PersonRounded")},632:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(9);a.a=Object(c.a)(r.a.createElement("path",{d:"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"EditRounded")},633:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(9);a.a=Object(c.a)(r.a.createElement("path",{d:"M19.23 15.26l-2.54-.29c-.61-.07-1.21.14-1.64.57l-1.84 1.84c-2.83-1.44-5.15-3.75-6.59-6.59l1.85-1.85c.43-.43.64-1.03.57-1.64l-.29-2.52c-.12-1.01-.97-1.77-1.99-1.77H5.03c-1.13 0-2.07.94-2 2.07.53 8.54 7.36 15.36 15.89 15.89 1.13.07 2.07-.87 2.07-2v-1.73c.01-1.01-.75-1.86-1.76-1.98z"}),"PhoneRounded")},639:function(e,a,t){"use strict";var n=t(1),r=t(6),c=t(0),l=(t(5),t(3)),i=t(7),o=t(174),s=c.forwardRef((function(e,a){var t=e.children,i=e.classes,s=e.className,m=e.disableTypography,d=void 0!==m&&m,u=Object(r.a)(e,["children","classes","className","disableTypography"]);return c.createElement("div",Object(n.a)({className:Object(l.a)(i.root,s),ref:a},u),d?t:c.createElement(o.a,{component:"h2",variant:"h6"},t))}));a.a=Object(i.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(s)},683:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return Pe}));var n=t(33),r=t(0),c=t.n(r),l=t(321),i=t(407),o=t(160),s=t(247),m=t(408),d=t(183),u=t(180),b=t(384),h=t(9),f=Object(h.a)(c.a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-3 10h-3v3c0 .55-.45 1-1 1s-1-.45-1-1v-3H8c-.55 0-1-.45-1-1s.45-1 1-1h3V8c0-.55.45-1 1-1s1 .45 1 1v3h3c.55 0 1 .45 1 1s-.45 1-1 1z"}),"AddBoxRounded"),p=Object(h.a)(c.a.createElement(c.a.Fragment,null,c.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z",opacity:".87"}),c.a.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm4.3 14.3c-.39.39-1.02.39-1.41 0L12 13.41 9.11 16.3c-.39.39-1.02.39-1.41 0a.9959.9959 0 010-1.41L10.59 12 7.7 9.11a.9959.9959 0 010-1.41c.39-.39 1.02-.39 1.41 0L12 10.59l2.89-2.89c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41L13.41 12l2.89 2.89c.38.38.38 1.02 0 1.41z"})),"CancelRounded"),g=t(11),v=t(421),E=t(17),O=t(14),j=t(81),w=t(161),_=t.n(w),y=t(178),N=t(97),C=t(13),x=t(177),S=t(440),k=t(246),P=t(122),B=t(670),A=t(671),$=t(672),M=t(673),R=t(667),z=t(668),L=t(612),q=t(244),T=t(634),D=t(377),F=t(685),I=t(429),H=t(3),V=t(21),Q=t(43),W=t(22),X=t(501),K=t(368),J=t(390),U=t(674),Z=t(432),Y=t(430),G=t(163),ee=t(44),ae=t(181),te=t(194),ne=t(195),re=t(420),ce=t(426),le=t(632),ie=t(524),oe=t(597),se=t(633),me=t(401),de=t(392),ue=t(324),be=t(639),he=t(328),fe=t(574),pe=t(423),ge=t(424),ve=t(96),Ee=t(514),Oe=function(e){var a=e.open,t=void 0!==a&&a,r=e.handleDialogClose,i=e.setRows,o=Object(O.c)(),m=Object(V.useMutation)(Ee.a,{errorPolicy:"all",fetchPolicy:"no-cache"}),d=Object(n.a)(m,1)[0],u=Object(ae.b)().getConfirmation,h=pe.b().shape({branch_code:ge.i(!0,1,10),branch_name:ge.i(!0,1,100),address:ge.i(!0,1,250),manager_name:ge.i(!0,1,200),phone_number:ge.g(!0,1,50),email:ge.b(!0,1,200)}),p=function(){var e=Object(y.a)(_.a.mark((function e(a,t){var n,r,c,l,s,m;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.setSubmitting,r=t.resetForm,e.next=3,u({title:"Attention!",type:"warning",okText:"Proceed",cancelText:"Cancel",message:"Are you sure you would like to register this branch office?"});case 3:if(c=e.sent,l={branch_code:a.branch_code,branch_name:a.branch_name,address:a.address,manager_name:a.manager_name,phone_number:a.phone_number,email:a.email},!c){e.next=11;break}return console.log({variables:l}),e.next=9,d({variables:l});case 9:(s=e.sent).data&&("success"===(m=s.data).response.status?(o(Object(ee.a)(m.response.message,"success")),i((function(e){return[].concat(Object(ne.a)(e),[Object(C.a)(Object(C.a)({},l),{},{show:!0})])})),r(),n(!1)):Object(Q.a)(m.response,o));case 11:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(ue.a,{open:t,onClose:r,scroll:"paper"},c.a.createElement(re.c,{initialValues:{branch_code:"",branch_name:"",address:"",manager_name:"",phone_number:"",email:""},onSubmit:p,validateOnChange:!0,validateOnBlur:!0,validationSchema:h},(function(e){var a=e.isSubmitting;return c.a.createElement(re.b,{className:"",autoComplete:"false"},c.a.createElement(be.a,null,c.a.createElement(f,null)," Register Branch Office"),c.a.createElement(he.a,{dividers:!1},c.a.createElement(v.a,{title:"Information!",type:"info",className:"mln mrn"},"Please fill in the form below to create a new branch office. All fields marked (*) are compulsory."),c.a.createElement(l.a,{container:!0,spacing:3,className:"prn pln mtn"},c.a.createElement(l.a,{item:!0,md:6},c.a.createElement(ce.a,{name:"branch_code",label:"Branch Code *",placeholder:"Branch Code",icon:c.a.createElement(le.a,null)})),c.a.createElement(l.a,{item:!0,md:6},c.a.createElement(ce.a,{name:"branch_name",label:"Name of Branch *",placeholder:"Name of Branch",icon:c.a.createElement(b.a,null)})),c.a.createElement(l.a,{item:!0,md:6},c.a.createElement(ce.a,{name:"address",label:"Address *",placeholder:"Address",icon:c.a.createElement(ie.a,null)})),c.a.createElement(l.a,{item:!0,md:6},c.a.createElement(ce.a,{name:"manager_name",label:"Manager Name *",placeholder:"Manager Name",icon:c.a.createElement(oe.a,null)})),c.a.createElement(l.a,{item:!0,md:6},c.a.createElement(ce.a,{name:"phone_number",label:"Phone Number *",placeholder:"Phone Number",icon:c.a.createElement(se.a,null)})),c.a.createElement(l.a,{item:!0,md:6},c.a.createElement(ce.a,{name:"email",label:"Email *",placeholder:"Email",icon:c.a.createElement(me.a,null)}))),c.a.createElement("div",{className:"mb30"})),c.a.createElement(fe.a,null,c.a.createElement(s.a,{disabled:a,onClick:r,color:"primary",type:"button"},"Close"),c.a.createElement(s.a,{disabled:a,type:"submit",className:"btn-second font-weight-bold"},a?c.a.createElement("div",{className:"pt5"},c.a.createElement(ve.BeatLoader,{color:"var(--second)",loading:!0})):c.a.createElement(c.a.Fragment,null,c.a.createElement(de.a,null)," \xa0 Create Branch Office"))))}))))},je=t(100),we=t(381),_e=t(522),ye=function(e){var a=e.branch,t=Object(O.c)(),r=Object(ae.b)().getConfirmation,o=Object(V.useMutation)(Ee.c,{errorPolicy:"all",fetchPolicy:"no-cache"}),d=Object(n.a)(o,1)[0],u={branch_id:a.branch_code,branch_code:a.branch_code,branch_name:a.branch_name,address:a.address,manager_name:a.manager_name,phone_number:a.phone_number,email:a.email},h=pe.b().shape({branch_id:ge.i(!0,1,10),branch_code:ge.i(!0,1,10),branch_name:ge.i(!0,1,100),address:ge.i(!0,1,250),manager_name:ge.i(!0,1,200),phone_number:ge.g(!0,1,50),email:ge.b(!0,1,200)}),f=function(){var e=Object(y.a)(_.a.mark((function e(a,n){var c,l,i,o,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.setSubmitting,e.next=3,r({title:"Attention!",type:"warning",okText:"Proceed",cancelText:"Cancel",message:"Are you sure you would like to edit this branch office?"});case 3:if(l=e.sent,i={branch_id:a.branch_id,branch_code:a.branch_code,branch_name:a.branch_name,address:a.address,manager_name:a.manager_name,phone_number:a.phone_number,email:a.email},!l){e.next=11;break}return console.log({variables:i}),e.next=9,d({variables:i});case 9:(o=e.sent).data&&("success"===(s=o.data).response.status?(t(Object(ee.a)(s.response.message,"success")),c(!1)):Object(Q.a)(s.response,t));case 11:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(re.c,{initialValues:u,onSubmit:f,validateOnChange:!0,validateOnBlur:!0,validationSchema:h},(function(e){var a=e.isSubmitting;return c.a.createElement(re.b,{className:"",autoComplete:"false"},c.a.createElement(i.a,{variant:"elevation",className:"card-box"},c.a.createElement(m.a,null,c.a.createElement(v.a,{title:"Information!",type:"info"},"Please fill in the form below to update this branch office. All fields marked (*) are compulsory."),c.a.createElement(re.a,{type:"hidden",name:"branch_id"}),c.a.createElement(l.a,{container:!0,spacing:3,className:"prn pln mtn"},c.a.createElement(l.a,{item:!0,md:6},c.a.createElement(ce.a,{name:"branch_code",label:"Branch Code *",placeholder:"Branch Code",icon:c.a.createElement(le.a,null)})),c.a.createElement(l.a,{item:!0,md:6},c.a.createElement(ce.a,{name:"branch_name",label:"Name of Branch *",placeholder:"Name of Branch",icon:c.a.createElement(b.a,null)})),c.a.createElement(l.a,{item:!0,md:6},c.a.createElement(ce.a,{name:"address",label:"Address *",placeholder:"Address",icon:c.a.createElement(ie.a,null)})),c.a.createElement(l.a,{item:!0,md:6},c.a.createElement(ce.a,{name:"manager_name",label:"Manager Name *",placeholder:"Manager Name",icon:c.a.createElement(oe.a,null)})),c.a.createElement(l.a,{item:!0,md:6},c.a.createElement(ce.a,{name:"phone_number",label:"Phone Number *",placeholder:"Phone Number",icon:c.a.createElement(se.a,null)})),c.a.createElement(l.a,{item:!0,md:6},c.a.createElement(ce.a,{name:"email",label:"Email *",placeholder:"Email",icon:c.a.createElement(me.a,null)}))),c.a.createElement("div",{className:"mb30"})),c.a.createElement("div",{className:"divider"}),c.a.createElement(_e.a,{className:"p20 d-flex align-items-between justify-content-between"},c.a.createElement(s.a,{disabled:a,type:"submit",className:"btn-second font-weight-bold"},a?c.a.createElement("div",{className:"pt5"},c.a.createElement(ve.BeatLoader,{color:"var(--second)",loading:!0})):c.a.createElement(c.a.Fragment,null,c.a.createElement(we.a,null)," \xa0 Save")))))})))},Ne=t(198),Ce=function(e){var a=e.branch_code,t=Object(r.useState)({}),i=Object(n.a)(t,2),o=i[0],s=i[1],m=Object(O.c)(),d=Object(E.g)(),b=Object(O.d)((function(e){return e.profile}));Object(r.useEffect)((function(){j.a.enforcePermissions(b,d,"edit-branch")}),[b,d]);var h=Object(V.useQuery)(Ne.e,{errorPolicy:"all",fetchPolicy:"no-cache",onCompleted:function(e){!function(e){e&&(e.response?s(e.response):Object(Q.a)(e.response,m))}(e)},onError:function(e){Object(j.d)(e,m)},variables:{branch_code:a}}).loading;return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,{title:"Edit Branch Office"}),h?c.a.createElement(je.a,null):c.a.createElement(l.a,{container:!0,alignContent:"center",alignItems:"center",direction:"column",className:"mt20 mb20"},c.a.createElement(l.a,{item:!0,sm:6},o&&o.branch_code&&c.a.createElement(ye,{branch:o}))))},xe=Object(k.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(0)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),Se=[{id:"sn",width:"10px",numeric:!1,disablePadding:!1,label:"S/N"},{id:"action",width:"60px",numeric:!1,disablePadding:!1,label:"Action"},{id:"name",width:"",numeric:!1,disablePadding:!1,label:"Branch Name"},{id:"code",width:"",numeric:!1,disablePadding:!1,label:"Branch Code"},{id:"address",width:"",numeric:!1,disablePadding:!1,label:"Address"},{id:"manager_name",width:"",numeric:!1,disablePadding:!1,label:"Manager Name"},{id:"phone_number",width:"",numeric:!1,disablePadding:!1,label:"Phone Number"},{id:"email",width:"",numeric:!1,disablePadding:!1,label:"Email"}];var ke=function(e){var a=e.open,t=e.handleDialogClose,r=xe(),l=Object(O.c)(),i=c.a.useState("page"),m=Object(n.a)(i,2),d=m[0],u=m[1],b=c.a.useState(""),h=Object(n.a)(b,2),f=h[0],g=h[1],v=c.a.useState("asc"),E=Object(n.a)(v,2),w=E[0],k=E[1],ne=c.a.useState("calories"),re=Object(n.a)(ne,2),ce=re[0],le=re[1],ie=c.a.useState([]),oe=Object(n.a)(ie,2),se=oe[0],me=oe[1],de=c.a.useState([]),ue=Object(n.a)(de,2),be=ue[0],he=ue[1],fe=c.a.useState(1),pe=Object(n.a)(fe,2),ge=pe[0],ve=pe[1],je=c.a.useState(0),we=Object(n.a)(je,2),_e=we[0],ye=we[1],ke=c.a.useState(10),Pe=Object(n.a)(ke,2),Be=Pe[0],Ae=Pe[1],$e=c.a.useState([]),Me=Object(n.a)($e,2),Re=Me[0],ze=Me[1],Le=c.a.useState(!0),qe=Object(n.a)(Le,2),Te=qe[0],De=qe[1],Fe=Object(ae.b)().getConfirmation,Ie=Object(te.b)().openFullscreenDialog,He=Math.trunc(_e/Be),Ve=_e/Be,Qe=Ve>He?He+1:Ve,We=function(e){e&&(e.response.data&&e.response.paginatorInfo?(he(e.response.data.map((function(e){return Object.assign(e,{show:!0})}))),ve(parseInt(e.response.paginatorInfo.currentPage)),Ae(parseInt(e.response.paginatorInfo.perPage)),ye(parseInt(e.response.paginatorInfo.total))):Object(Q.a)(e.response,l)),De(!1)},Xe=function(e){Object(Q.b)(e,l)},Ke=Object(V.useQuery)(Ne.a,{errorPolicy:"all",fetchPolicy:"no-cache",variables:{page:1},onCompleted:function(e){We(e),u("page")},onError:Xe}).loading,Je=Object(V.useLazyQuery)(Ne.a,{errorPolicy:"all",fetchPolicy:"no-cache",onCompleted:function(e){We(e),u("page")},onError:Xe}),Ue=Object(n.a)(Je,2),Ze=Ue[0],Ye=Ue[1].loading,Ge=Object(V.useLazyQuery)(Ne.b,{errorPolicy:"all",fetchPolicy:"no-cache",onCompleted:function(e){We(e),u("search")},onError:Xe}),ea=Object(n.a)(Ge,2),aa=ea[0],ta=ea[1].loading,na=Object(V.useMutation)(Ee.b,{errorPolicy:"all",fetchPolicy:"no-cache",onCompleted:function(e){!function(e,a){if(e)if(l(Object(G.a)()),"success"===e.response.status){var t=[];if(e.response.ids&&(t=e.response.ids),"delete"===a){var n=be.filter((function(e){return-1===t.indexOf(e.branch_code)}));he(n)}me([]),l(Object(ee.a)(e.response.message,"success"))}else Object(Q.a)(e.response,l)}(e,"delete")},onError:Xe}),ra=Object(n.a)(na,1)[0],ca=function(e,a){var t="a".concat(a);if(Re["a"+a]){Re[t];var n=Object(x.a)(Re,[t].map(S.a));ze(Object(C.a)(Object(C.a)({},n),{},Object(N.a)({},t,null)))}},la=function(){var e=Object(y.a)(_.a.mark((function e(a,t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(De(!0),n="%".concat(f,"%"),"search"!==d){e.next=7;break}return e.next=5,aa({variables:{page:t,search:n}});case 5:e.next=9;break;case 7:return e.next=9,Ze({variables:{page:t}});case 9:ve(t);case 10:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),ia=function(){var e=Object(y.a)(_.a.mark((function e(a){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(13!==a.keyCode){e.next=6;break}return t=a.target.value,e.next=4,aa({variables:{page:1,search:"%".concat(t,"%")}});case 4:ve(1),g(t);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),oa=function(){var e=Object(y.a)(_.a.mark((function e(){var a,t,n,r,c=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=c.length>0&&void 0!==c[0]?c[0]:[],t=c.length>1&&void 0!==c[1]?c[1]:"trash",0!==(n=0===a.length?se:a).length){e.next=7;break}return r="trash"===t?"Please select the branch office(s) to discontinue!":"Please select the branch office(s) to delete permanently!",l(Object(ee.a)(r,"error")),e.abrupt("return");case 7:return r="trash"===t?"Are you sure you would like to discontinue the selected branch office(s)?":"Are you sure you would like to delete the selected branch office(s) permanently?. This action will delete this branch office and all its associated transaction records permanently from the database. If this office has been used to record transactions, customers or staff, please use the discontinue action instead. Please note that this action is irreversible.",e.next=10,Fe({title:"Attention!",type:"warning",okText:"Proceed",cancelText:"Cancel",message:r});case 10:if(!e.sent){e.next=15;break}return l(Object(G.a)(!0)),e.next=15,ra({variables:{branch_codes:n,status:t}});case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:r.root},c.a.createElement(c.a.Fragment,null,c.a.createElement(Oe,{handleDialogClose:t,open:a,setRows:he}),Ke||Ye||ta||Te?c.a.createElement(P.a,{className:r.paper},c.a.createElement(Z.a,null)):c.a.createElement(P.a,{className:r.paper},c.a.createElement(Y.a,{numSelected:se.length,onSearchChange:function(e){var a=e.target.value;a&&(a=a.toLowerCase());var t=be.map((function(e){return-1!==e.branch_code.toLowerCase().indexOf(a)||-1!==e.branch_name.toLowerCase().indexOf(a)||-1!==e.address.toLowerCase().indexOf(a)||-1!==e.manager_name.toLowerCase().indexOf(a)||-1!==e.phone_number.toLowerCase().indexOf(a)||-1!==e.email.toLowerCase().indexOf(a)?e.show=!0:e.show=!1,e}));he(t)},searchValue:f,setSearchValue:g,onSearchKeyPressed:ia},c.a.createElement(c.a.Fragment,null,c.a.createElement(B.a,{size:"medium",className:"m-2",color:"primary","aria-label":"outlined primary button group"},c.a.createElement(o.a,{title:"Discontinue the selected branch office(s)"},c.a.createElement(s.a,{className:"btn-transition-none btn-neutral-first mr10 text-white",onClick:function(){oa([],"trash")}},c.a.createElement(p,{className:"mr5"})," Discontinue")),c.a.createElement(o.a,{title:"Delete the selected branch office(s) permanently"},c.a.createElement(s.a,{className:"btn-transition-none btn-neutral-first text-white",onClick:function(){oa([],"force")}},c.a.createElement(X.a,{className:"mr5"})," Delete"))))),c.a.createElement(A.a,{className:"pb30"},c.a.createElement($.a,{className:Object(H.a)(r.table,"table text-nowrap mb-0"),"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table"},c.a.createElement(I.a,{classes:r,numSelected:se.length,order:w,orderBy:ce,onSelectAllClick:function(e){if(e.target.checked){var a=be.map((function(e){return e.branch_code}));me(a)}else me([])},onRequestSort:function(e,a){k(ce===a&&"asc"===w?"desc":"asc"),le(a)},headCells:Se,rowCount:be.length}),c.a.createElement(M.a,null,Object(j.f)(be,Object(j.c)(w,ce)).map((function(e,a){var t,n=(t=e.branch_code,-1!==se.indexOf(t)),r="enhanced-table-checkbox-".concat(a),l=Be*(ge-1)+(a+1);return e.show?c.a.createElement(R.a,{hover:!0,onClick:function(a){return function(e,a){var t=se.indexOf(a),n=[];-1===t?n=n.concat(se,a):0===t?n=n.concat(se.slice(1)):t===se.length-1?n=n.concat(se.slice(0,-1)):t>0&&(n=n.concat(se.slice(0,t),se.slice(t+1))),me(n)}(0,e.branch_code)},role:"checkbox","aria-checked":n,tabIndex:-1,key:e.branch_code,selected:n},c.a.createElement(z.a,{padding:"checkbox"},c.a.createElement(L.a,{checked:n,inputProps:{"aria-labelledby":r}})),c.a.createElement(z.a,{align:"left"},l),c.a.createElement(z.a,{padding:"none"},c.a.createElement(s.a,{size:"small",onClick:function(e){!function(e,a){var t=e.currentTarget,n="a".concat(a);if(Re["a"+a]){Re[n];var r=Object(x.a)(Re,[n].map(S.a));ze(Object(C.a)(Object(C.a)({},r),{},Object(N.a)({},n,t)))}else ze(Object(C.a)(Object(C.a)({},Re),{},Object(N.a)({},n,t)))}(e,a)},className:"btn-second btn-icon d-40 p-0 btn-animated-icon-sm"},c.a.createElement(W.a,{icon:["fas","ellipsis-h"],className:"font-size-lg"})),c.a.createElement(q.a,{anchorEl:Re["a"+a],open:Boolean(Re["a"+a]),keepMounted:!0,onClose:function(e){ca(0,a)},classes:{list:"p-0"},getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},c.a.createElement(T.a,{button:!0,onClick:function(t){ca(0,a),oa([e.branch_code],"trash")}},c.a.createElement("div",{className:"mr10"},c.a.createElement(p,null)),c.a.createElement("span",null,"Discontinue")),c.a.createElement(T.a,{button:!0,onClick:function(t){ca(0,a),oa([e.branch_code],"force")}},c.a.createElement("div",{className:"mr10"},c.a.createElement(X.a,null)),c.a.createElement("span",null,"Delete Forever")),c.a.createElement(D.a,{className:"my-2"}),c.a.createElement(T.a,{button:!0,onClick:function(t){var n=c.a.createElement(Ce,{branch_code:e.branch_code});ca(0,a),function(e,a){Ie({title:"Edit Branch Office",content:e})}(n,e.branch_name)}},c.a.createElement("div",{className:"mr10"},c.a.createElement(K.a,null)),c.a.createElement("span",null,"Edit Record")),c.a.createElement(D.a,{className:"my-2"}),c.a.createElement(T.a,{button:!0,onClick:function(t){var n="/print/branches/view/".concat(e.branch_code);ca(0,a),j.a.launchNewWindow(n,1e3,700)}},c.a.createElement("div",{className:"mr10"},c.a.createElement(J.a,null)),c.a.createElement("span",null,"View Record")))),c.a.createElement(z.a,{component:"th",id:r,scope:"row",padding:"none"},c.a.createElement("div",{className:"d-flex align-items-center"},c.a.createElement("div",null,c.a.createElement("span",{className:"font-weight-bold text-black",title:"..."},e.branch_name),c.a.createElement("span",{className:"text-black-50 d-block"},"Branch Office")))),c.a.createElement(z.a,{align:"left"},e.branch_code),c.a.createElement(z.a,{align:"left"},e.address||"-N/A-"),c.a.createElement(z.a,{align:"left"},e.manager_name||"-N/A-"),c.a.createElement(z.a,{align:"left"},e.phone_number||"-N/A-"),c.a.createElement(z.a,{align:"left"},e.email||"-N/A-")):null})),0===be.length&&c.a.createElement(R.a,{style:{height:53}},c.a.createElement(z.a,{colSpan:11,className:"bg-gray-300"},c.a.createElement(U.a,null)," No records found"))))),c.a.createElement("div",{className:"card-footer py-3 d-flex justify-content-between"},c.a.createElement(F.a,{className:"pagination-second",variant:"outlined",page:ge,onChange:la,count:Qe})))))};function Pe(){var e=Object(E.g)(),a=Object(O.d)((function(e){return e.profile}));Object(r.useEffect)((function(){j.a.enforcePermissions(a,e,"view-branch")}),[a,e]);var t=c.a.useState(!1),h=Object(n.a)(t,2),w=h[0],_=h[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,{title:"Manage Branch Offices"}),c.a.createElement(d.a,{titleHeading:"Manage Branch Offices",titleDescription:"Manage all branch offices. You can also use this page to delete or discontinue branch offices",breadCrumbTitle:"Branch Management",breadCrumbSubTitle:"Manage Branch Offices",Icon:b.a}),c.a.createElement(l.a,null,c.a.createElement(i.a,{className:"card-box mb-spacing-6-x2"},c.a.createElement("div",{className:"card-header pr-2"},c.a.createElement("div",{className:"card-header--title"},c.a.createElement("small",null,"BRANCH OFFICES"),c.a.createElement("b",null,"List of Branch Offices")),c.a.createElement("div",{className:"card-header--actions"},c.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},c.a.createElement(o.a,{arrow:!0,title:"Register New Branch",placement:"top"},c.a.createElement(s.a,{variant:"outlined",className:"btn-outline-second btn-sm mr-2 rounded-pill",onClick:function(){_(!0)}},c.a.createElement(f,null)," Add")),c.a.createElement(o.a,{arrow:!0,title:"Manage Discontinued Branch Offices",placement:"top"},c.a.createElement(g.b,{to:"/branches/manage/trash"},c.a.createElement(s.a,{variant:"outlined",className:"btn-outline-second btn-sm mr-2 rounded-pill"},c.a.createElement(p,null)," Discontinued Branch Offices")))))),c.a.createElement(m.a,{className:"p-0"},c.a.createElement(v.a,{title:"How to Use!",type:"info",className:"",marginBottom:!1},"The table below shows the list of branch offices in the system. To perform an action (delete, discontinue, view etc) on any record, please select an action from the action menu close to the record"),c.a.createElement(l.a,{item:!0,md:12},c.a.createElement(ke,{handleDialogClose:function(){_(!1)},open:w}))))))}}}]);