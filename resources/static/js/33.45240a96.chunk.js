(this["webpackJsonpThriftShop-admin-app"]=this["webpackJsonpThriftShop-admin-app"]||[]).push([[33],{482:function(e,n,t){"use strict";t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return _})),t.d(n,"c",(function(){return E})),t.d(n,"d",(function(){return p})),t.d(n,"e",(function(){return d})),t.d(n,"f",(function(){return h}));var a=t(47),r=t(21);function c(){var e=Object(a.a)(["\n  query GetCustomerProfile($account_number: String!) {\n    response: customer(account_number: $account_number, trashed: WITH) {\n      account_number\n      branch_code\n      title\n      name\n      last_name\n      middle_name\n      first_name\n      marital_status\n      nationality\n      means_of_identification\n      id_number\n      occupation\n      gender\n      date_of_birth\n\n      email\n      phone_number\n      birth_place\n      home_town\n      street_address\n      city\n      lga\n      state\n      registration_date\n\n      next_of_kin_name\n      next_of_kin_relationship\n      next_of_kin_phone_number\n\n      daily_contribution_amount\n      main_balance\n      payment_frequency\n      customer_type\n      account_officer\n\n      photo_url\n      photo_thumbnail_url\n      notes\n      created_by\n      account_officer_info {\n        name\n        staff_id\n      }\n\n      state_info {\n        state_name\n      }\n\n      lga_info {\n        lga_name\n      }\n\n      branch {\n        branch_code\n        branch_name\n      }\n\n      utility_bill_image_url_thumbnail\n      utility_bill_image_url\n      means_of_identification_image_url_thumbnail\n      means_of_identification_image_url\n\n      verified\n      verification_date\n      verified_by\n\n      subscribe_to_sms_alerts\n    }\n  }\n"]);return c=function(){return e},e}function o(){var e=Object(a.a)(["\n  query GetAllCustomersFilter($page: Int!, $search: Mixed!) {\n    response: customers_filter(\n      page: $page\n      orderBy: [{ column: NAME, order: ASC }]\n      where: {\n        OR: [\n          { column: ACCOUNT_NUMBER, operator: LIKE, value: $search }\n          { column: BRANCH_CODE, operator: LIKE, value: $search }\n          { column: NAME, operator: LIKE, value: $search }\n          { column: EMAIL, operator: LIKE, value: $search }\n          { column: PHONE_NUMBER, operator: LIKE, value: $search }\n          { column: MARITAL_STATUS, operator: LIKE, value: $search }\n          { column: NATIONALITY, operator: LIKE, value: $search }\n          { column: MEANS_OF_IDENTIFICATION, operator: LIKE, value: $search }\n          { column: ID_NUMBER, operator: LIKE, value: $search }\n          { column: OCCUPATION, operator: LIKE, value: $search }\n          { column: BIRTH_PLACE, operator: LIKE, value: $search }\n          { column: HOME_TOWN, operator: LIKE, value: $search }\n          { column: GENDER, operator: LIKE, value: $search }\n          { column: STREET_ADDRESS, operator: LIKE, value: $search }\n          { column: CITY, operator: LIKE, value: $search }\n          { column: LGA, operator: LIKE, value: $search }\n          { column: STATE, operator: LIKE, value: $search }\n          { column: NEXT_OF_KIN_NAME, operator: LIKE, value: $search }\n          { column: NEXT_OF_KIN_PHONE_NUMBER, operator: LIKE, value: $search }\n        ]\n      }\n      trashed: ONLY\n    ) {\n      paginatorInfo {\n        currentPage\n        lastPage\n        total\n        perPage\n        count\n      }\n      data {\n        name\n        account_number\n        phone_number\n        photo_thumbnail_url\n        occupation\n        gender\n        daily_contribution_amount\n        main_balance\n        customer_type\n        branch {\n          branch_code\n          branch_name\n        }\n        registration_date\n        verified\n      }\n    }\n  }\n"]);return o=function(){return e},e}function l(){var e=Object(a.a)(["\n  query GetAllCustomerAccounts($page: Int!) {\n    response: customers(\n      page: $page\n      orderBy: [{ column: NAME, order: ASC }]\n      trashed: ONLY\n    ) {\n      paginatorInfo {\n        currentPage\n        lastPage\n        total\n        perPage\n        count\n      }\n      data {\n        name\n        account_number\n        phone_number\n        photo_thumbnail_url\n        occupation\n        gender\n        daily_contribution_amount\n        main_balance\n        customer_type\n        branch {\n          branch_code\n          branch_name\n        }\n        registration_date\n        verified\n      }\n    }\n  }\n"]);return l=function(){return e},e}function i(){var e=Object(a.a)(["\n  query GetAllCustomersFilter(\n    $page: Int!\n    $condition: QueryCustomersFilterWhereWhereConditions!\n  ) {\n    response: customers_filter(\n      page: $page\n      orderBy: [{ column: NAME, order: ASC }]\n      where: $condition\n    ) {\n      paginatorInfo {\n        currentPage\n        lastPage\n        total\n        perPage\n        count\n      }\n      data {\n        name\n        account_number\n        phone_number\n        photo_thumbnail_url\n        occupation\n        gender\n        daily_contribution_amount\n        main_balance\n        customer_type\n        branch {\n          branch_code\n          branch_name\n        }\n        registration_date\n        verified\n      }\n    }\n  }\n"]);return i=function(){return e},e}function m(){var e=Object(a.a)(["\n  query GetAllCustomersFilter($page: Int!, $search: Mixed!) {\n    response: customers_filter(\n      page: $page\n      orderBy: [{ column: NAME, order: ASC }]\n      where: {\n        OR: [\n          { column: ACCOUNT_NUMBER, operator: LIKE, value: $search }\n          { column: BRANCH_CODE, operator: LIKE, value: $search }\n          { column: NAME, operator: LIKE, value: $search }\n          { column: EMAIL, operator: LIKE, value: $search }\n          { column: PHONE_NUMBER, operator: LIKE, value: $search }\n          { column: MARITAL_STATUS, operator: LIKE, value: $search }\n          { column: NATIONALITY, operator: LIKE, value: $search }\n          { column: MEANS_OF_IDENTIFICATION, operator: LIKE, value: $search }\n          { column: ID_NUMBER, operator: LIKE, value: $search }\n          { column: OCCUPATION, operator: LIKE, value: $search }\n          { column: BIRTH_PLACE, operator: LIKE, value: $search }\n          { column: HOME_TOWN, operator: LIKE, value: $search }\n          { column: GENDER, operator: LIKE, value: $search }\n          { column: STREET_ADDRESS, operator: LIKE, value: $search }\n          { column: CITY, operator: LIKE, value: $search }\n          { column: LGA, operator: LIKE, value: $search }\n          { column: STATE, operator: LIKE, value: $search }\n          { column: NEXT_OF_KIN_NAME, operator: LIKE, value: $search }\n          { column: NEXT_OF_KIN_PHONE_NUMBER, operator: LIKE, value: $search }\n        ]\n      }\n    ) {\n      paginatorInfo {\n        currentPage\n        lastPage\n        total\n        perPage\n        count\n      }\n      data {\n        name\n        account_number\n        phone_number\n        photo_thumbnail_url\n        occupation\n        gender\n        daily_contribution_amount\n        main_balance\n        customer_type\n        branch {\n          branch_code\n          branch_name\n        }\n        registration_date\n        verified\n      }\n    }\n  }\n"]);return m=function(){return e},e}function u(){var e=Object(a.a)(["\n  query GetAllCustomerAccounts($page: Int!) {\n    response: customers(page: $page, orderBy: [{ column: NAME, order: ASC }]) {\n      paginatorInfo {\n        currentPage\n        lastPage\n        total\n        perPage\n        count\n      }\n      data {\n        name\n        account_number\n        phone_number\n        photo_thumbnail_url\n        occupation\n        gender\n        daily_contribution_amount\n        main_balance\n        customer_type\n        branch {\n          branch_code\n          branch_name\n        }\n        registration_date\n        verified\n      }\n    }\n  }\n"]);return u=function(){return e},e}var s=Object(r.gql)(u()),_=Object(r.gql)(m()),E=Object(r.gql)(i()),p=Object(r.gql)(l()),d=Object(r.gql)(o()),h=Object(r.gql)(c())},555:function(e,n,t){"use strict";var a=t(33),r=t(0),c=t.n(r),o=t(556);t(566),t(567);n.a=function(e){var n=e.open,t=e.onCloseLightBox,l=e.images,i=e.titles,m=e.captions,u=e.thumbs,s=Object(r.useState)(0),_=Object(a.a)(s,2),E=_[0],p=_[1];return console.log({images:l}),c.a.createElement("div",null,n&&c.a.createElement(o.a,{mainSrc:l[E],nextSrc:l[(E+1)%l.length],prevSrc:l[(E+l.length-1)%l.length],mainSrcThumbnail:u[E],nextSrcThumbnail:u[(E+1)%l.length],prevSrcThumbnail:u[(E+l.length-1)%l.length],onCloseRequest:function(){return t(!1)},onMovePrevRequest:function(){return p((function(e){return(e+l.length-1)%l.length}))},onMoveNextRequest:function(){return p((function(e){return(e+1)%l.length}))},imageTitle:i[E],imageCaption:m[E]}))}},567:function(e,n,t){},677:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return L}));var a=t(33),r=t(0),c=t.n(r),o=t(321),l=t(407),i=t(408),m=t(247),u=t(180),s=t(14),_=t(44),E=t(43),p=t(21),d=t(81),h=t(74),b=t(409),f=t(390),g=t(327),N=t(246),v=t(100),I=t(17),A=t(482),y=t(185),O=t(555);Object(N.a)((function(e){return{small:{width:e.spacing(9),height:e.spacing(9)},large:{width:e.spacing(14),height:e.spacing(14)}}}));function L(e){var n,t,N,L,$=e.match,C=Object(s.c)(),T=Object(r.useState)({}),K=Object(a.a)(T,2),P=K[0],S=K[1],M=c.a.useState(!1),w=Object(a.a)(M,2),x=w[0],j=w[1],R=Object(I.g)(),B=Object(s.d)((function(e){return e.profile}));Object(r.useEffect)((function(){d.a.enforcePermissions(B,R,"view-customers")}),[B,R]);var D=$.params.id,q=Object(p.useQuery)(A.f,{errorPolicy:"all",fetchPolicy:"no-cache",onCompleted:function(e){!function(e){e&&(console.log(e),e.response?S(e.response):Object(E.a)(e.response,C))}(e)},onError:function(e){Object(d.d)(e,C)},variables:{account_number:D}}).loading;return $.params.id?c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,{title:"View Customer Profile"}),q?c.a.createElement(v.a,null):c.a.createElement(o.a,{container:!0,spacing:6,className:"d-flex justify-content-center p20 bg-gray-300"},c.a.createElement(o.a,{item:!0,xl:12,className:""},c.a.createElement(l.a,{variant:"elevation",className:"card-box "},c.a.createElement("div",{className:"color-swatch"},c.a.createElement("div",{className:"color-swatch--bg h-auto bg-composed-wrapper bg-brand-slack"},c.a.createElement("div",{className:"bg-composed-wrapper--image bg-composed-img-3"}),c.a.createElement("div",{className:"bg-composed-wrapper--content text-light p-5"},c.a.createElement("h5",{className:"mb-1"},"Customer Profile"),c.a.createElement("p",{className:"mb-0 opacity-7"},P.name)))),c.a.createElement(i.a,{className:"text-center card-body-avatar"},c.a.createElement("a",{href:"#/",onClick:function(e){return e.preventDefault()},className:"avatar-icon-wrapper shadow-lg rounded-circle card-box-hover-rise d-130"},c.a.createElement("div",{className:"avatar-icon rounded-circle"},c.a.createElement("img",{alt:"...",className:"img-fluid",src:P.photo_thumbnail_url}))),c.a.createElement(y.a,{title:"Personal Details",extraClasses:"ml20 mr20 mt40"}),c.a.createElement(o.a,{container:!0,spacing:3,className:"pr20 pl20 mt10 mb20"},c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"Title",content:P.title})," "),c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"Last Name",content:P.last_name})," "),c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"Middle Name",content:P.middle_name||"-N/A-"})," "),c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"First Name",content:P.first_name})," "),c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"Marital Status",content:P.marital_status})," "),c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"Nationality",content:P.nationality})," "),c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"Means Of Identification",content:P.means_of_identification||"-N/A-"})," "),c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"I.D Number",content:P.id_number||"-N/A-"})," "),c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"Occupation",content:P.occupation||"-N/A-"})," "),c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"Gender",content:P.gender})," "),c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"Date Of Birth",content:d.a.getUserFriendlyDate(P.date_of_birth)})," "),c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"Registered By",content:P.created_by||"-N/A-"})," "),c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"Registration date",content:d.a.getUserFriendlyDate(P.registration_date)})," ")))),c.a.createElement(l.a,{className:"mt20"},c.a.createElement(i.a,null,c.a.createElement(y.a,{title:"Contact Details",extraClasses:"ml20 mr20 mt20 page-break-before"}),c.a.createElement(o.a,{container:!0,spacing:3,className:"pr20 pl20 mt10 mb20"},c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"Email Address",content:P.email||"-N/A-"})," "),c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"Phone Number",content:P.phone_number||"-N/A-"})," "),c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"Birth Place",content:P.birth_place||"-N/A-"})," "),c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"Home Town",content:P.home_town||"-N/A-"})," "),c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"Street Address ",content:P.street_address||"-N/A-"})," "),c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"City",content:P.city||"-N/A-"})," "),c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"State Of Origin ",content:(null===(n=P.state_info)||void 0===n?void 0:n.state_name)||"-N/A-"})," "),c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"Local Government Of Origin",content:(null===(t=P.lga_info)||void 0===t?void 0:t.lga_name)||"-N/A-"})," ")))),c.a.createElement(l.a,{className:"mt20"},c.a.createElement(i.a,null,c.a.createElement(y.a,{title:"Customer's Account Details",extraClasses:"ml20 mr20 mt20"}),c.a.createElement(o.a,{container:!0,spacing:3,className:"pr20 pl20 mt10 mb20"},c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"Account Number",content:P.account_number})," "),c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"Branch",content:null===(N=P.branch)||void 0===N?void 0:N.branch_name})," "),c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"Account Officer",content:null===(L=P.account_officer_info)||void 0===L?void 0:L.name})," "),c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"Daily Contribution Amount",content:"\u20a6"+parseInt(P.daily_contribution_amount).toLocaleString()})," "),c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"Main Balance",content:"\u20a6"+parseFloat(P.main_balance).toLocaleString()})," "),c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"Payment Frequency",content:P.payment_frequency})," "),c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"Customer Type",content:P.customer_type})," ")))),c.a.createElement(l.a,{className:"mt20"},c.a.createElement(i.a,null,c.a.createElement(y.a,{title:"Next Of Kin's Details",extraClasses:"ml20 mr20 mt20"}),c.a.createElement(o.a,{container:!0,spacing:3,className:"pr20 pl20 mt10 mb20"},c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"Name (Next of Kin)",content:P.next_of_kin_name||"-N/A-"})," "),c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"Relationship (Next of Kin)",content:P.next_of_kin_relationship||"-N/A-"})," "),c.a.createElement(o.a,{item:!0,sm:6},c.a.createElement(h.a,{title:"Phone Number (Next of Kin)",content:P.next_of_kin_phone_number||"-N/A-"})," ")),c.a.createElement("div",{className:"no-print"},c.a.createElement(O.a,{onCloseLightBox:function(){return j(!1)},open:x,images:[P.means_of_identification_image_url,P.utility_bill_image_url],thumbs:[P.means_of_identification_image_url_thumbnail,P.utility_bill_image_url_thumbnail],captions:["",""],titles:["Means Of Identification","Utility Bill"]}),c.a.createElement("div",{className:"p20 d-flex align-items-between justify-content-between"},c.a.createElement(m.a,{type:"button",className:"btn-second font-weight-bold",onClick:function(){d.a.hideNonPrintableArea(),window.print(),d.a.hideNonPrintableArea(!1)}},c.a.createElement(b.a,null)," \xa0 Print"),(P.means_of_identification_image_url||P.utility_bill_image_url)&&c.a.createElement(m.a,{type:"button",className:"btn-first font-weight-bold",onClick:function(){return j(!0)}},c.a.createElement(f.a,null)," \xa0 View Uploaded Documents"),c.a.createElement(m.a,{type:"button",className:"btn-second font-weight-bold",onClick:function(){window.close()}},c.a.createElement(g.a,null)," \xa0 Close")))))))):(C(Object(_.a)("This record you are trying to view does not exist. Please try again later!","error")),null)}}}]);