(this["webpackJsonpThriftShop-admin-app"]=this["webpackJsonpThriftShop-admin-app"]||[]).push([[35],{499:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return E})),a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return p}));var n=a(47),r=a(21);function c(){var e=Object(n.a)(["\n  query GetStaffProfile($staff_id: String!) {\n    response: staff(staff_id: $staff_id, trashed: WITH) {\n      staff_id\n      branch_code\n      title\n      name\n      last_name\n      middle_name\n      first_name\n      marital_status\n      nationality\n      religion\n      gender\n      date_of_birth\n\n      email\n      phone_number\n      street_address\n      city\n      lga\n      state\n      emergency_contact_number\n\n      staff_description\n      staff_department\n      institution_attended\n      qualification\n      specialization\n      employment_date\n\n      next_of_kin_name\n      next_of_kin_relationship\n      next_of_kin_phone_number\n\n      photo_url\n      photo_thumbnail_url\n      created_at\n      updated_at\n      created_by\n\n      notes\n\n      branch {\n        branch_code\n        branch_name\n      }\n\n      state_info {\n        state_id\n        state_name\n      }\n\n      lga_info {\n        lga_id\n        lga_name\n      }\n    }\n  }\n"]);return c=function(){return e},e}function l(){var e=Object(n.a)(["\n  query GetAllTrashedStaffRecordsFilter($page: Int!, $search: Mixed!) {\n    response: staffs_filter(\n      page: $page\n      orderBy: [{ column: NAME, order: ASC }]\n      where: {\n        OR: [\n          { column: BRANCH_CODE, operator: EQ, value: $search }\n          { column: NAME, operator: LIKE, value: $search }\n          { column: EMAIL, operator: LIKE, value: $search }\n          { column: PHONE_NUMBER, operator: LIKE, value: $search }\n          { column: MARITAL_STATUS, operator: LIKE, value: $search }\n          { column: NATIONALITY, operator: LIKE, value: $search }\n          { column: STAFF_DESCRIPTION, operator: LIKE, value: $search }\n          { column: STAFF_DEPARTMENT, operator: LIKE, value: $search }\n          { column: INSTITUTION_ATTENDED, operator: LIKE, value: $search }\n          { column: QUALIFICATION, operator: LIKE, value: $search }\n          { column: SPECIALIZATION, operator: LIKE, value: $search }\n          { column: GENDER, operator: LIKE, value: $search }\n          { column: STREET_ADDRESS, operator: LIKE, value: $search }\n          { column: CITY, operator: LIKE, value: $search }\n          { column: LGA, operator: LIKE, value: $search }\n          { column: STATE, operator: LIKE, value: $search }\n          { column: NEXT_OF_KIN_NAME, operator: LIKE, value: $search }\n          { column: NEXT_OF_KIN_PHONE_NUMBER, operator: LIKE, value: $search }\n        ]\n      }\n      trashed: ONLY\n    ) {\n      paginatorInfo {\n        currentPage\n        lastPage\n        total\n        perPage\n        count\n      }\n      data {\n        staff_id\n        name\n        email\n        phone_number\n        photo_thumbnail_url\n        marital_status\n        staff_description\n        gender\n        branch {\n          branch_code\n          branch_name\n        }\n      }\n    }\n  }\n"]);return l=function(){return e},e}function o(){var e=Object(n.a)(["\n  query GetAllTrashedStaffRecords($page: Int!) {\n    response: staffs(\n      page: $page\n      orderBy: [{ column: NAME, order: ASC }]\n      trashed: ONLY\n    ) {\n      paginatorInfo {\n        currentPage\n        lastPage\n        total\n        perPage\n        count\n      }\n      data {\n        staff_id\n        name\n        email\n        phone_number\n        photo_thumbnail_url\n        marital_status\n        staff_description\n        gender\n        branch {\n          branch_code\n          branch_name\n        }\n      }\n    }\n  }\n"]);return o=function(){return e},e}function m(){var e=Object(n.a)(["\n  query GetAllStaffRecordsFilter($page: Int!, $search: Mixed!) {\n    response: staffs_filter(\n      page: $page\n      orderBy: [{ column: NAME, order: ASC }]\n      where: {\n        OR: [\n          { column: NAME, operator: LIKE, value: $search }\n          { column: EMAIL, operator: LIKE, value: $search }\n          { column: PHONE_NUMBER, operator: LIKE, value: $search }\n          { column: MARITAL_STATUS, operator: LIKE, value: $search }\n          { column: NATIONALITY, operator: LIKE, value: $search }\n          { column: STAFF_DESCRIPTION, operator: LIKE, value: $search }\n          { column: STAFF_DEPARTMENT, operator: LIKE, value: $search }\n          { column: INSTITUTION_ATTENDED, operator: LIKE, value: $search }\n          { column: QUALIFICATION, operator: LIKE, value: $search }\n          { column: SPECIALIZATION, operator: LIKE, value: $search }\n          { column: BRANCH_CODE, operator: EQ, value: $search }\n          { column: GENDER, operator: LIKE, value: $search }\n          { column: STREET_ADDRESS, operator: LIKE, value: $search }\n          { column: CITY, operator: LIKE, value: $search }\n          { column: LGA, operator: LIKE, value: $search }\n          { column: STATE, operator: LIKE, value: $search }\n          { column: NEXT_OF_KIN_NAME, operator: LIKE, value: $search }\n          { column: NEXT_OF_KIN_PHONE_NUMBER, operator: LIKE, value: $search }\n        ]\n      }\n    ) {\n      paginatorInfo {\n        currentPage\n        lastPage\n        total\n        perPage\n        count\n      }\n      data {\n        staff_id\n        name\n        email\n        phone_number\n        photo_thumbnail_url\n        marital_status\n        staff_description\n        gender\n        branch {\n          branch_code\n          branch_name\n        }\n      }\n    }\n  }\n"]);return m=function(){return e},e}function i(){var e=Object(n.a)(["\n  query GetAllStaffRecords($page: Int!) {\n    response: staffs(page: $page, orderBy: [{ column: NAME, order: ASC }]) {\n      paginatorInfo {\n        currentPage\n        lastPage\n        total\n        perPage\n        count\n      }\n      data {\n        staff_id\n        name\n        email\n        phone_number\n        photo_thumbnail_url\n        marital_status\n        staff_description\n        gender\n        branch {\n          branch_code\n          branch_name\n        }\n      }\n    }\n  }\n"]);return i=function(){return e},e}var s=Object(r.gql)(i()),u=Object(r.gql)(m()),E=Object(r.gql)(o()),d=Object(r.gql)(l()),p=Object(r.gql)(c())},676:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var n=a(33),r=a(0),c=a.n(r),l=a(321),o=a(407),m=a(408),i=a(247),s=a(180),u=a(14),E=a(44),d=a(43),p=a(21),f=a(81),_=a(74),h=a(409),N=a(327),b=a(100),g=a(17),I=a(185),A=a(499);function v(e){var t,a,v,T=e.match,O=Object(u.c)(),L=Object(r.useState)({}),$=Object(n.a)(L,2),K=$[0],S=$[1],y=Object(g.g)(),P=Object(u.d)((function(e){return e.profile}));Object(r.useEffect)((function(){f.a.enforcePermissions(P,y,"view-staff")}),[P,y]);var C=T.params.id,D=Object(p.useQuery)(A.e,{errorPolicy:"all",fetchPolicy:"no-cache",onCompleted:function(e){!function(e){e&&(e.response?S(e.response):Object(d.a)(e.response,O))}(e)},onError:function(e){Object(f.d)(e,O)},variables:{staff_id:C}}).loading;return T.params.id?c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,{title:"View Staff Profile"}),D?c.a.createElement(b.a,null):c.a.createElement(l.a,{container:!0,spacing:6,className:"d-flex justify-content-center p20 bg-gray-300"},c.a.createElement(l.a,{item:!0,xl:12,className:""},c.a.createElement(o.a,{variant:"elevation",className:"card-box "},c.a.createElement("div",{className:"color-swatch"},c.a.createElement("div",{className:"color-swatch--bg h-auto bg-composed-wrapper bg-brand-slack"},c.a.createElement("div",{className:"bg-composed-wrapper--image bg-composed-img-3"}),c.a.createElement("div",{className:"bg-composed-wrapper--content text-light p-5"},c.a.createElement("h5",{className:"mb-1"},"Staff Profile"),c.a.createElement("p",{className:"mb-0 opacity-7"},K.name)))),c.a.createElement(m.a,{className:"text-center card-body-avatar"},c.a.createElement("a",{href:"#/",onClick:function(e){return e.preventDefault()},className:"avatar-icon-wrapper shadow-lg rounded-circle card-box-hover-rise d-130"},c.a.createElement("div",{className:"avatar-icon rounded-circle"},c.a.createElement("img",{alt:"...",className:"img-fluid",src:K.photo_thumbnail_url}))),c.a.createElement(I.a,{title:"Personal Details",extraClasses:"ml20 mr20 mt40"}),c.a.createElement(l.a,{container:!0,spacing:3,className:"pr20 pl20 mt10 mb20"},c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Title",content:K.title})," "),c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Last Name",content:K.last_name})," "),c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Middle Name",content:K.middle_name||"-N/A-"})," "),c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"First Name",content:K.first_name})," "),c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Gender",content:K.gender})," "),c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Marital Status",content:K.marital_status})," "),c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Nationality",content:K.nationality})," "),c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Religion",content:K.religion})," "),c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Date Of Birth",content:f.a.getUserFriendlyDate(K.date_of_birth)})," "),c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Registered By",content:K.created_by||"-N/A-"})," "),c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Registration date",content:f.a.getUserFriendlyDateTime(K.created_at)})," "),c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Staff ID",content:K.staff_id})," ")))),c.a.createElement(o.a,{className:"mt20"},c.a.createElement(m.a,null,c.a.createElement(I.a,{title:"Contact Details",extraClasses:"ml20 mr20 mt20 page-break-before"}),c.a.createElement(l.a,{container:!0,spacing:3,className:"pr20 pl20 mt10 mb20"},c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Email Address",content:K.email||"-N/A-"})," "),c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Phone Number",content:K.phone_number})," "),c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Street Address ",content:K.street_address||"-N/A-"})," "),c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"City",content:K.city})," "),c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"State Of Origin ",content:null===(t=K.state_info)||void 0===t?void 0:t.state_name})," "),c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Local Government Of Origin",content:null===(a=K.lga_info)||void 0===a?void 0:a.lga_name})," "),c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Contact Address ",content:K.contact_address||"-N/A-"})," "),c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Emergency Contact Number",content:K.emergency_contact_number||"-N/A-"})," ")))),c.a.createElement(o.a,{className:"mt20"},c.a.createElement(m.a,null,c.a.createElement(I.a,{title:"Employment Details",extraClasses:"ml20 mr20 mt20"}),c.a.createElement(l.a,{container:!0,spacing:3,className:"pr20 pl20 mt10 mb20"},c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Branch",content:null===(v=K.branch)||void 0===v?void 0:v.branch_name})," "),c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Description (Position)",content:K.staff_description})," "),c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Department",content:K.staff_department})," "),c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Institution Attended",content:K.institution_attended||"-N/A-"})," "),c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Qualification",content:K.qualification||"-N/A-"})," "),c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Specialization",content:K.specialization||"-N/A-"})," "),c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Date Of Employment",content:f.a.getUserFriendlyDate(K.employment_date)})," "),c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Comments",content:K.notes||"-N/A-"})," ")))),c.a.createElement(o.a,{className:"mt20"},c.a.createElement(m.a,null,c.a.createElement(I.a,{title:"Next Of Kin's Details",extraClasses:"ml20 mr20 mt20"}),c.a.createElement(l.a,{container:!0,spacing:3,className:"pr20 pl20 mt10 mb20"},c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Name (Next of Kin)",content:K.next_of_kin_name||"-N/A-"})," "),c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Relationship (Next of Kin)",content:K.next_of_kin_relationship||"-N/A-"})," "),c.a.createElement(l.a,{item:!0,sm:6},c.a.createElement(_.a,{title:"Phone Number (Next of Kin)",content:K.next_of_kin_phone_number||"-N/A-"})," ")),c.a.createElement("div",{className:"no-print"},c.a.createElement("div",{className:"p20 d-flex align-items-between justify-content-between"},c.a.createElement(i.a,{type:"button",className:"btn-second font-weight-bold",onClick:function(){f.a.hideNonPrintableArea(),window.print(),f.a.hideNonPrintableArea(!1)}},c.a.createElement(h.a,null)," \xa0 Print"),c.a.createElement(i.a,{type:"button",className:"btn-second font-weight-bold",onClick:function(){window.close()}},c.a.createElement(N.a,null)," \xa0 Close")))))))):(O(Object(E.a)("This record you are trying to view does not exist. Please try again later!","error")),null)}}}]);