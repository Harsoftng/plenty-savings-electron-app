(this["webpackJsonpThriftShop-admin-app"]=this["webpackJsonpThriftShop-admin-app"]||[]).push([[20],{421:function(e,a,n){"use strict";var t=n(33),r=n(0),i=n.n(r),o=n(413),c=n(386),l=n(252),s=n(327),u=n(3);a.a=function(e){var a=e.type,n=e.children,m=e.title,d=e.className,b=void 0===d?"ml20 mr20":d,p=e.marginBottom,f=void 0===p||p,h=Object(r.useState)(!0),g=Object(t.a)(h,2),v=g[0],E=g[1];return i.a.createElement(c.a,{in:v,className:b},i.a.createElement(o.a,{className:Object(u.a)("alerts-alternate",{"mb-4":f}),severity:a,variant:"filled",action:i.a.createElement(l.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){E(!1)}},i.a.createElement(s.a,{fontSize:"inherit"}))},i.a.createElement("div",{className:"d-flex align-items-center align-content-start"},i.a.createElement("span",null,i.a.createElement("strong",{className:"d-block"},m),n))))}},424:function(e,a,n){"use strict";n.d(a,"b",(function(){return r})),n.d(a,"i",(function(){return i})),n.d(a,"a",(function(){return o})),n.d(a,"h",(function(){return c})),n.d(a,"c",(function(){return l})),n.d(a,"d",(function(){return s})),n.d(a,"g",(function(){return u})),n.d(a,"e",(function(){return m})),n.d(a,"f",(function(){return d}));var t=n(423),r=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,r=t.d().email("Invalid email address!").min(a,"Email addresses must be 10 characters or more!").max(n,"Email addresses must be 255 characters or less!");return e&&(r=r.required("A valid email is required!")),r},i=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,r=t.d().min(a,"Value must be "+a+" characters or more!").max(n,"Value must be "+n+" characters or less!");return e&&(r=r.required("A value is required!")),r},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Please select a value!";return t.b().shape({value:t.d().required(e),text:t.d().required(e)})},c=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=t.d();return e&&(a=a.required("Please select a value!")),a},l=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=t.a().typeError("A valid number is required!");return e&&(a=a.required("A valid number is required!")),a},s=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=/^[0-9]\d*(((,\d{3}){1})*(\.\d{0,2})?)$/,n=t.d().matches(a,"A valid amount is required!");return e&&(n=n.required("A valid amount is required!")),n},u=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,n=t.d().matches(a,"Phone number is not valid");return e&&(n=n.required("A valid phone number is required!")),n},m=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,i=t.d().min(n,"Passwords must be 6 characters or more!").max(r,"Passwords must be 50 characters or less!");return e&&(i=i.matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{6,}$/,"Passwords must contain at least 6 characters consisting of at least one uppercase, one lowercase, one number and one special case character")),a&&(i=i.required("A valid password is required")),i},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"password",a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.d().oneOf([t.c(e),null],"Passwords must match");return a&&(n=n.required("Please confirm your password!")),n}},426:function(e,a,n){"use strict";var t=n(33),r=n(177),i=n(0),o=n.n(i),c=n(420),l=n(507),s=n(416),u=n(519),m=n(506);a.a=function(e){var a=e.label,n=e.readOnly,d=Object(r.a)(e,["label","readOnly"]),b=Object(c.d)(d),p=Object(t.a)(b,2),f=p[0],h=p[1],g=Object(i.useState)(f.value),v=Object(t.a)(g,2),E=v[0],O=v[1],j=Object(m.a)((function(e){f.onChange&&f.onChange(e)}),200);Object(i.useEffect)((function(){""===f.value?O(""):O(f.value)}),[f.value]);var _=Object(i.useCallback)((function(e){e.persist();var a=e.currentTarget.value;O(a),j.callback(e)}),[j]),S={};return d.icon&&(S={startAdornment:o.a.createElement(l.a,{position:"start"},d.icon?d.icon:o.a.createElement(u.a,null)),readOnly:n}),o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,Object.assign({fullWidth:!0,variant:"outlined",label:a,value:E,onChange:_,onBlur:f.onBlur},d,{InputProps:S})),h.touched&&h.error?o.a.createElement("div",{className:"oak-input-error"},h.error):null)}},427:function(e,a,n){"use strict";var t=n(81),r={defaultErrorObject:{code:500,open:!0,message:"Could not communicate with the IBEN Server. Logout failed. Please try again!",title:"",type:"error",messages:[]},privilegesComboData:[{value:"",text:"--- Select ---"},{value:"Administrator",text:"Administrator (All Rights)"},{value:"selected",text:"Select Privileges"}],MARITAL_STATUS_DATA:[{value:"",text:"--- Select Marital Status ---"},{value:"Single",text:"Single"},{value:"Married",text:"Married"},{value:"Divorced",text:"Divorced"},{value:"Widowed",text:"Widowed"}],MEANS_OF_IDENTIFICATION_DATA:[{value:"",text:"--- Select ---"},{value:"Driver's License",text:"Driver's License"},{value:"National ID Card",text:"National ID Card"},{value:"International Passport",text:"International Passport"}],NEXT_OF_KIN_RELATIONSHIP_DATA:t.a.transformArrayIntoData(["Parent","Sibling","Spouse","Guardian","Partner","Child","Sister","Brother","Cousin","Niece","Nephew","Aunty","Uncle"]),RECORD_TITLE_DATA:t.a.transformArrayIntoData(["Mr.","Mrs.","Miss","Chief","Evang.","Dr.","Prof.","Messrs.","Barr.","Lady","Senator","Hon.","Rt. Hon. Barr.","HRH","Ichie","Nze","Eze","Rev. Fr."]),RELIGION_DATA:t.a.transformArrayIntoData(["Christianity","Islam","Judaism","Buddhism","Zoroastrianism","Hare Krishna","African Traditional Religion"]),DEPARTMENT_DATA:t.a.transformArrayIntoData(["Accounts","Administration","Finance","Security","Marketing","Customer Support","Contact Center","Enquiries","Complaints","Information","Sales","Billing"]),STAFF_POSITION_DATA:t.a.transformArrayIntoData(["Accountant","MD CEO","Corps Member","Manager","Director","Sales Representative","Marketer","Distributor","Chairman","Administrator","Driver","Secretary","Cleaner","Medical Staff","Customer Care"]),QUALIFICATION_DATA:t.a.transformArrayIntoData(["B.Sc","B.Tech","M.Sc","M.Tech","OND","HND","LLB","M.B.B.S","B.Ed","NCE","Dr.","Prof.","S.S.C.E","J.S.C.E"]),INVESTMENT_ROI_PERCENT_DATA:[{value:"10",text:"10%"},{value:"15",text:"15%"},{value:"20",text:"20%"}],ROI_PAYMENT_FREQUENCY_DATA:t.a.transformArrayIntoData(["Monthly","Every 3 Months","Every 6 Months"]),INVESTMENT_DURATION_DATA:t.a.transformArrayIntoData(["1 Month","2 Months","3 Months","4 Months","5 Months","6 Months","7 Months","8 Months","9 Months","10 Months","11 Months","12 Months"]),PAYMENT_MODE_DATA:t.a.transformArrayIntoData(["Mobile App Transfer","Bank Transfer","Bank Deposit"]),CUSTOMER_TYPE_DATA:t.a.transformArrayIntoData(["Savings","Loans"]),TRANSACTION_TYPE_DATA:t.a.transformArrayIntoData(["Deposit","Withdrawal"]),getNationalityData:function(){return t.a.transformArrayIntoData(["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic (CAR)","Chad","Chile","China","Colombia","Comoros","Democratic Republic of the Congo","Republic of the Congo","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar (Burma)","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Swaziland","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates (UAE)","United Kingdom (UK)","United States of America (USA)","Uruguay","Uzbekistan","Vanuatu","Vatican City (Holy See)","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"])}};a.a=r},428:function(e,a,n){"use strict";var t=n(33),r=n(177),i=n(0),o=n.n(i),c=n(687),l=n(416),s=n(420);a.a=function(e){var a=e.label,n=e.data,u=e.limitTags,m=void 0===u?2:u,d=e.loading,b=void 0!==d&&d,p=e.onItemSelected,f=void 0===p?function(e){return e}:p,h=Object(r.a)(e,["label","data","limitTags","loading","onItemSelected"]),g=Object(s.d)(h),v=Object(t.a)(g,3),E=v[0],O=v[1],j=v[2],_=Object(i.useState)(E.value),S=Object(t.a)(_,2),y=S[0],C=S[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(c.a,Object.assign({options:n,value:E.value.text||"",inputValue:y.text||"",limitTags:m,openOnFocus:!0,autoHighlight:!0,loading:b},h,{onChange:function(e,a){var n={text:"",value:""};a?(j.setValue(a),C(a.text||n),f(a.value||n)):(j.setValue(n),C(n),f(n))},onInputChange:function(e,a){C({text:a,value:a})},getOptionLabel:function(e){return e?e.text?e.text:e:""},getOptionSelected:function(e,a){return e.value===a},style:{width:"100%"},renderInput:function(e){return o.a.createElement(l.a,Object.assign({},e,{label:a},h,{variant:"outlined"}))}})),O.touched&&O.error?o.a.createElement("div",{className:"oak-input-error"},O.error.value):null)}},435:function(e,a,n){"use strict";n.d(a,"a",(function(){return c})),n.d(a,"b",(function(){return l}));var t=n(47),r=n(21);function i(){var e=Object(t.a)(["\n  mutation UploadAvatar(\n    $file: Upload!\n    $mode: String!\n    $model: String!\n    $model_id: String!\n    $field_name: String!\n  ) {\n    response: upload_file(\n      file: $file\n      mode: $mode\n      model: $model\n      model_id: $model_id\n      field_name: $field_name\n    )\n  }\n"]);return i=function(){return e},e}function o(){var e=Object(t.a)(["\n  mutation UploadAvatar(\n    $file: Upload!\n    $mode: String!\n    $model: String!\n    $model_id: String!\n  ) {\n    response: upload_avatar(\n      file: $file\n      mode: $mode\n      model: $model\n      model_id: $model_id\n    )\n  }\n"]);return o=function(){return e},e}var c=Object(r.gql)(o()),l=Object(r.gql)(i())},438:function(e,a,n){"use strict";n.d(a,"a",(function(){return Z}));var t=n(161),r=n.n(t),i=n(178),o=n(33),c=n(0),l=n.n(c),s=n(480),u=n(469),m=n.n(u),d=n(467),b=n.n(d),p=n(488),f=n.n(p),h=n(468),g=n.n(h),v=n(160),E=n(247),O=n(632),j=n(665),_=n(246),S=n(324),y=n(325),C=n(326),w=n(252),A=n(174),N=n(190),$=n.n(N),k=n(249),P=n(328),M=n(3),I=n(14),x=n(381),T=n(664),R=n(486),D=n.n(R),B=n(44),z=n(487),L=n.n(z),U=n(81),q=Object(_.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),F={width:1280,height:720,facingMode:"user",aspectRatio:.6666666667},G=l.a.forwardRef((function(e,a){return l.a.createElement(k.a,Object.assign({direction:"up",ref:a},e))}));function H(e){var a=e.title,n=e.open,t=void 0!==n&&n,r=e.onCloseClick,i=e.onCapturedImageSrc,s=e.onSetFiles,u=e.uploadAvatar,m=e.reset,d=q(),b=Object(c.useState)(!1),p=Object(o.a)(b,2),f=p[0],h=p[1],g=Object(c.useState)(""),v=Object(o.a)(g,2),O=v[0],j=v[1],_=Object(I.d)((function(e){return e.ThemeOptions})),N=Object(I.c)(),k=l.a.useRef(null),R=l.a.useRef(null),z=l.a.useCallback((function(){var e=k.current.getScreenshot();j(e)}),[]),H=!!_.sidebarStyle&&-1!==_.sidebarStyle.indexOf("app-sidebar--dark"),V="";""!==_.sidebarStyle&&(V=_.sidebarStyle.replace("app-sidebar--dark",""));var K=H?V:"bg-gray-500";return Object(c.useEffect)((function(){m&&(j(""),i(""),s([]))}),[m,i,s]),l.a.createElement(S.a,{fullScreen:!0,open:t,onClose:function(){r(),h(!1),j("")},TransitionComponent:G},l.a.createElement(y.a,{className:Object(M.a)(d.appBar,K)},l.a.createElement(C.a,null,l.a.createElement(w.a,{edge:"start",color:"inherit",onClick:function(){r(),h(!1),j("")},"aria-label":"close",className:Object(M.a)({"text-white":H})},l.a.createElement($.a,null)),l.a.createElement(A.a,{variant:"h6",className:Object(M.a)(d.title,{"text-white":H})},a),f?l.a.createElement(E.a,{autoFocus:!0,variant:"outlined",color:"inherit",className:Object(M.a)({"text-white":H}),onClick:function(){if("undefined"===typeof R.current.getCroppedCanvas())return N(Object(B.a)("Could not crop the selected image!","error")),void r();var e=R.current.getCroppedCanvas().toDataURL("image/jpeg",100);i(e);var a=Object(U.b)(e);a.name="image.jpeg",u(a),s([]),h(!1),j(""),r()}},l.a.createElement(x.a,null)," \xa0 Save"):l.a.createElement(E.a,{autoFocus:!0,variant:"outlined",color:"inherit",className:Object(M.a)({"text-white":H}),onClick:function(){z(),h(!0)}},l.a.createElement(T.a,null)," \xa0 Capture"))),l.a.createElement(P.a,null,l.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},l.a.createElement("div",{className:"mt20 br24 text-center"},""===O?l.a.createElement(D.a,{audio:!1,height:"100%",ref:k,screenshotFormat:"image/jpeg",width:"100%",videoConstraints:F,screenshotQuality:1,onUserMediaError:function(){N(Object(B.a)("Could not open your device camera. Please make sure a camera is connected and try again!","error")),r()}}):l.a.createElement(L.a,{style:{height:400,width:"100%"},preview:".img-preview",guides:!1,src:O,ref:R})))))}var V=n(96),K=n(21),J=n(43),W=n(427),Y=n(435);function Z(e){var a=e.setAvatarId,n=e.mode,t=e.model,u=e.model_id,d=e.reset,p=e.initialAvatar,h=void 0===p?"":p,_=Object(c.useState)([]),S=Object(o.a)(_,2),y=S[0],C=S[1],w=Object(c.useState)(""),A=Object(o.a)(w,2),N=A[0],$=A[1],k=Object(c.useState)(!1),P=Object(o.a)(k,2),M=P[0],x=P[1],T=Object(I.c)(),R=Object(K.useMutation)(Y.a,{errorPolicy:"all",fetchPolicy:"no-cache"}),D=Object(o.a)(R,2),z=D[0],L=D[1],U=L.error,q=L.data,F=L.loading,G=Object(s.a)({noClick:!0,noKeyboard:!0,multiple:!1,accept:"image/*",onDrop:function(e){C(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})}))),e&&(e.length>0?($(""),re(e[0])):T(Object(B.a)("Please select a valid image file format (JPEG, PNG, JPG, GIF, SVG, WEBP) of less than 5MB","warning")))}}),Z=G.isDragActive,Q=G.isDragAccept,X=G.isDragReject,ee=G.open,ae=G.getRootProps,ne=G.getInputProps,te=y.map((function(e){return l.a.createElement("div",{key:e.name,className:""},l.a.createElement("img",{className:"img-fluid img-fit-container rounded-sm",src:e.preview,style:{maxHeight:"240px"},alt:"..."}))}));Object(c.useEffect)((function(){return function(){y.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[y]);var re=function(){var e=Object(i.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({variables:{file:a,mode:n,model:t,model_id:u}});case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){q&&(q?"success"===q.response.status?(a("edit"===n?q.response.photo_thumbnail:q.response.id),T(Object(B.a)(q.response.message))):Object(J.a)(q.response,T):Object(J.a)(W.a.defaultErrorObject,T)),Object(J.b)(U,T)}),[q,T,U,n,a]),Object(c.useEffect)((function(){d&&(C([]),$(""))}),[d]),l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,{title:"Drag and drop an image here or click on the buttons below to upload a profile picture",placement:"top",arrow:!0},l.a.createElement("div",{className:"py-1 d-flex align-items-center justify-content-center flex-column"},l.a.createElement("div",{className:"dropzone rounded shadow-xxl"},l.a.createElement("div",ae({className:"dropzone-upload-wrapper"}),l.a.createElement("input",ne()),l.a.createElement("div",{className:"dropzone-inner-wrapper d-240 rounded dropzone-avatar"},l.a.createElement("div",{className:"avatar-icon-wrapper d-240 rounded m-2"},l.a.createElement(v.a,{title:"Click here to select an image",placement:"top",arrow:!0},l.a.createElement(E.a,{onClick:ee,className:"avatar-button badge shadow-sm btn-icon badge-position badge-position--bottom-right border-0 text-indent-0 d-40 badge-circle btn-second text-white"},"edit"===n?l.a.createElement(O.a,{className:"d-20"}):l.a.createElement(b.a,{className:"d-20"}))),l.a.createElement(v.a,{title:"Click here to capture a photo",placement:"top",arrow:!0},l.a.createElement(E.a,{onClick:function(){return x(!0)},className:"avatar-button badge mr45 shadow-sm btn-icon badge-position badge-position--bottom-right border-0 text-indent-0 d-40 badge-circle btn-second text-white"},l.a.createElement(j.a,{className:"d-20"}))),l.a.createElement("div",null,Q&&l.a.createElement("div",{className:"rounded overflow-hidden d-230 ml5 bg-success text-center font-weight-bold text-white d-flex justify-content-center align-items-center"},l.a.createElement(g.a,{className:"d-40"})),X&&l.a.createElement("div",{className:"rounded overflow-hidden d-230 ml5 bg-danger text-center font-weight-bold text-white d-flex justify-content-center align-items-center"},l.a.createElement(m.a,{className:"d-60"})),!Z&&""===N&&te.length<1&&l.a.createElement("div",{className:"rounded overflow-hidden d-230 ml5 bg-neutral-dark text-center font-weight-bold text-black-50 d-flex justify-content-center align-items-center"},h?l.a.createElement("img",{className:"img-fluid img-fit-container rounded-sm",style:{height:"100%"},src:h,alt:"..."}):l.a.createElement(f.a,{className:"d-50"}))),!X&&l.a.createElement(l.a.Fragment,null,te.length>0||""===N?l.a.createElement(l.a.Fragment,null,!Q&&l.a.createElement("div",null,te)):l.a.createElement(l.a.Fragment,null,!Q&&l.a.createElement("div",{className:"rounded overflow-hidden d-230 ml5"},l.a.createElement("img",{className:"img-fluid img-fit-container rounded-sm",style:{height:"100%"},src:N,alt:"..."})))))))),l.a.createElement("div",{className:"pb5 pl10 pt20"},F&&l.a.createElement(V.BarLoader,{loading:!0})))),l.a.createElement(H,{open:M,title:"Capture Photo",onCloseClick:function(){return x(!1)},onSetFiles:C,onCapturedImageSrc:$,reset:d,uploadAvatar:re}))}},440:function(e,a,n){"use strict";n.d(a,"a",(function(){return r}));var t=n(192);function r(e){var a=function(e,a){if("object"!==Object(t.a)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,a||"default");if("object"!==Object(t.a)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"===Object(t.a)(a)?a:String(a)}},441:function(e,a,n){"use strict";var t=n(1),r=n(6),i=n(0),o=n(3),c=(n(5),n(7)),l=i.forwardRef((function(e,a){var n=e.animation,c=void 0===n?"pulse":n,l=e.classes,s=e.className,u=e.component,m=void 0===u?"span":u,d=e.height,b=e.variant,p=void 0===b?"text":b,f=e.width,h=Object(r.a)(e,["animation","classes","className","component","height","variant","width"]);return i.createElement(m,Object(t.a)({ref:a,className:Object(o.a)(l.root,l[p],s,!1!==c&&l[c])},h,{style:Object(t.a)({width:f,height:d},h.style)}))}));a.a=Object(c.a)((function(e){return{root:{display:"block",backgroundColor:e.palette.action.hover,height:"1.2em"},text:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 60%",transform:"scale(1, 0.60)",borderRadius:e.shape.borderRadius,"&:empty:before":{content:'"\\00a0"'}},rect:{},circle:{borderRadius:"50%"},pulse:{animation:"$pulse 1.5s ease-in-out 0.5s infinite"},"@keyframes pulse":{"0%":{opacity:1},"50%":{opacity:.4},"100%":{opacity:1}},wave:{position:"relative",overflow:"hidden","&::after":{animation:"$wave 1.6s linear 0.5s infinite",background:"linear-gradient(90deg, transparent, ".concat(e.palette.action.hover,", transparent)"),content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}},"@keyframes wave":{"0%":{transform:"translateX(-100%)"},"60%":{transform:"translateX(100%)"},"100%":{transform:"translateX(100%)"}}}}),{name:"MuiSkeleton"})(l)},444:function(e,a,n){"use strict";n.d(a,"c",(function(){return d})),n.d(a,"g",(function(){return b})),n.d(a,"f",(function(){return p})),n.d(a,"b",(function(){return f})),n.d(a,"d",(function(){return h})),n.d(a,"a",(function(){return g})),n.d(a,"e",(function(){return v}));var t=n(47),r=n(21);function i(){var e=Object(t.a)(["\n  mutation EditUserPermission($email: String!, $permissions: [String!]!) {\n    response: change_user_permission(email: $email, permissions: $permissions) {\n      status\n      code\n      message\n      errors\n    }\n  }\n"]);return i=function(){return e},e}function o(){var e=Object(t.a)(["\n  mutation ChangeUserStatus($emails: [String!]!, $status: String!) {\n    response: change_user_status(emails: $emails, status: $status) {\n      __typename\n      ... on Response {\n        status\n        code\n        message\n        errors\n      }\n      ... on StatusResponse {\n        status\n        code\n        message\n        ids\n      }\n    }\n  }\n"]);return o=function(){return e},e}function c(){var e=Object(t.a)(["\n  mutation DeleteUserAccounts($emails: [String!]!) {\n    response: delete_users(emails: $emails) {\n      __typename\n      ... on Response {\n        status\n        code\n        message\n        errors\n      }\n      ... on StatusResponse {\n        status\n        code\n        message\n        ids\n      }\n    }\n  }\n"]);return c=function(){return e},e}function l(){var e=Object(t.a)(["\n  mutation ChangePassword(\n    $old_password: String!\n    $password: String!\n    $password_confirmation: String!\n  ) {\n    response: change_password(\n      old_password: $old_password\n      password: $password\n      password_confirmation: $password_confirmation\n    ) {\n      status\n      code\n      message\n      errors\n    }\n  }\n"]);return l=function(){return e},e}function s(){var e=Object(t.a)(["\n  mutation UpdateAccount(\n    $name: String!\n    $email: String!\n    $phone_number: String!\n    $last_name: String!\n    $first_name: String!\n    $branch_code: String!\n  ) {\n    response: update_user(\n      name: $name\n      email: $email\n      phone_number: $phone_number\n      last_name: $last_name\n      first_name: $first_name\n      branch_code: $branch_code\n    ) {\n      status\n      code\n      message\n      errors\n    }\n  }\n"]);return s=function(){return e},e}function u(){var e=Object(t.a)(["\n  mutation UpdateAccount(\n    $name: String!\n    $email: String!\n    $phone_number: String!\n    $last_name: String!\n    $first_name: String!\n    $branch_code: String!\n  ) {\n    response: update_profile(\n      name: $name\n      email: $email\n      phone_number: $phone_number\n      last_name: $last_name\n      first_name: $first_name\n      branch_code: $branch_code\n    ) {\n      status\n      code\n      message\n      errors\n    }\n  }\n"]);return u=function(){return e},e}function m(){var e=Object(t.a)(["\n  mutation CreateAccount(\n    $name: String!\n    $email: String!\n    $password: String!\n    $password_confirmation: String!\n    $phone_number: String!\n    $last_name: String!\n    $first_name: String!\n    $permissions: [String!]!\n    $avatar_id: String!\n    $privilegeCombo: String!\n    $branch_code: String!\n  ) {\n    response: create_user(\n      name: $name\n      email: $email\n      password: $password\n      password_confirmation: $password_confirmation\n      phone_number: $phone_number\n      last_name: $last_name\n      first_name: $first_name\n      permissions: $permissions\n      avatar_id: $avatar_id\n      privilegeCombo: $privilegeCombo\n      branch_code: $branch_code\n    ) {\n      status\n      code\n      message\n      errors\n    }\n  }\n"]);return m=function(){return e},e}var d=Object(r.gql)(m()),b=Object(r.gql)(u()),p=Object(r.gql)(s()),f=Object(r.gql)(l()),h=Object(r.gql)(c()),g=Object(r.gql)(o()),v=Object(r.gql)(i())},481:function(e,a,n){"use strict";var t=n(13),r=n(33),i=n(177),o=n(0),c=n.n(o),l=n(420),s=n(507),u=n(252),m=n(416),d=n(9),b=Object(d.a)(c.a.createElement(c.a.Fragment,null,c.a.createElement("g",{fill:"none"},c.a.createElement("path",{d:"M0 0h24v24H0V0z"}),c.a.createElement("path",{d:"M0 0h24v24H0V0z",opacity:".87"})),c.a.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"})),"LockOutlined"),p=Object(d.a)(c.a.createElement("path",{d:"M12 4C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"VisibilityRounded"),f=Object(d.a)(c.a.createElement("path",{d:"M12 6.5c2.76 0 5 2.24 5 5 0 .51-.1 1-.24 1.46l3.06 3.06c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l2.17 2.17c.47-.14.96-.24 1.47-.24zM2.71 3.16c-.39.39-.39 1.02 0 1.41l1.97 1.97C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.97-.3 4.31-.82l2.72 2.72c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L4.13 3.16c-.39-.39-1.03-.39-1.42 0zM12 16.5c-2.76 0-5-2.24-5-5 0-.77.18-1.5.49-2.14l1.57 1.57c-.03.18-.06.37-.06.57 0 1.66 1.34 3 3 3 .2 0 .38-.03.57-.07L14.14 16c-.65.32-1.37.5-2.14.5zm2.97-5.33c-.15-1.4-1.25-2.49-2.64-2.64l2.64 2.64z"}),"VisibilityOffRounded"),h=n(506);a.a=function(e){var a=e.label,n=Object(i.a)(e,["label"]),d=Object(l.d)(n),g=Object(r.a)(d,2),v=g[0],E=g[1],O=Object(o.useState)(v.value),j=Object(r.a)(O,2),_=j[0],S=j[1],y=Object(o.useState)({password:"",showPassword:!1}),C=Object(r.a)(y,2),w=C[0],A=C[1],N=function(){A(Object(t.a)(Object(t.a)({},w),{},{showPassword:!w.showPassword}))},$=function(e){e.preventDefault()},k=Object(h.a)((function(e){v.onChange&&v.onChange(e)}),200);Object(o.useEffect)((function(){""===v.value&&S("")}),[v.value]);var P=Object(o.useCallback)((function(e){e.persist();var a=e.currentTarget.value;S(a),k.callback(e)}),[k]),M={};return M=n.icon?{startAdornment:c.a.createElement(s.a,{position:"start"},c.a.createElement(b,null)),endAdornment:c.a.createElement(s.a,{position:"end"},c.a.createElement(u.a,{"aria-label":"Toggle password visibility",onClick:N,onMouseDown:$},w.showPassword?c.a.createElement(p,null):c.a.createElement(f,null)))}:{endAdornment:c.a.createElement(s.a,{position:"end"},c.a.createElement(u.a,{"aria-label":"Toggle password visibility",onClick:N,onMouseDown:$},w.showPassword?c.a.createElement(p,null):c.a.createElement(f,null)))},c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,Object.assign({fullWidth:!0,variant:"outlined",label:a,value:_,onChange:P,onBlur:v.onBlur},n,{type:w.showPassword?"text":"password",InputProps:M})),E.touched&&E.error?c.a.createElement("div",{className:"oak-input-error"},E.error):null)}},489:function(e,a,n){"use strict";n.d(a,"d",(function(){return m})),n.d(a,"a",(function(){return d})),n.d(a,"b",(function(){return b})),n.d(a,"c",(function(){return p})),n.d(a,"e",(function(){return f})),n.d(a,"f",(function(){return h}));var t=n(47),r=n(21);function i(){var e=Object(t.a)(["\n  query GetUserAccountAndBranches($email: Email!) {\n    user(email: $email) {\n      name\n      first_name\n      last_name\n      email\n      phone_number\n      photo_thumbnail_url\n      branch {\n        branch_code\n        branch_name\n      }\n    }\n    branches(\n      page: 1\n      first: 100\n      orderBy: [{ column: BRANCH_NAME, order: ASC }]\n    ) {\n      data {\n        branch_code\n        branch_name\n      }\n    }\n  }\n"]);return i=function(){return e},e}function o(){var e=Object(t.a)(["\n  query GetUserAccount($email: Email!) {\n    user(email: $email) {\n      name\n      first_name\n      last_name\n      email\n      phone_number\n      photo_thumbnail_url\n      blocked\n      created_at\n      created_by\n      permissions {\n        id\n        name\n        display_name\n      }\n      branch {\n        branch_code\n        branch_name\n      }\n    }\n  }\n"]);return o=function(){return e},e}function c(){var e=Object(t.a)(["\n  query GetAllUserAccountsFilter($page: Int!, $search: Mixed!) {\n    response: users_filter(\n      page: $page\n      orderBy: [{ column: NAME, order: ASC }]\n      where: {\n        OR: [\n          { column: NAME, operator: LIKE, value: $search }\n          { column: EMAIL, operator: LIKE, value: $search }\n          { column: PHONE_NUMBER, operator: LIKE, value: $search }\n        ]\n      }\n    ) {\n      paginatorInfo {\n        currentPage\n        lastPage\n        total\n        perPage\n        count\n      }\n      data {\n        name\n        email\n        phone_number\n        photo_thumbnail_url\n        blocked\n        permissions {\n          name\n          display_name\n        }\n        branch {\n          branch_code\n          branch_name\n        }\n      }\n    }\n  }\n"]);return c=function(){return e},e}function l(){var e=Object(t.a)(["\n  query GetAllUserAccounts($page: Int!) {\n    response: users(page: $page, orderBy: [{ column: NAME, order: ASC }]) {\n      paginatorInfo {\n        currentPage\n        lastPage\n        total\n        perPage\n        count\n      }\n      data {\n        name\n        email\n        phone_number\n        photo_thumbnail_url\n        blocked\n        permissions {\n          name\n          display_name\n        }\n        branch {\n          branch_code\n          branch_name\n        }\n      }\n    }\n  }\n"]);return l=function(){return e},e}function s(){var e=Object(t.a)(["\n  query GetAllPermissionsAndUserPermission($email: Email!) {\n    permissions(orderBy: [{ column: PERMISSIONS_GROUP, order: ASC }]) {\n      id\n      name\n      display_name\n      description\n      permissions_group\n    }\n    user(email: $email) {\n      name\n      email\n      photo_thumbnail_url\n      permissions {\n        id\n        name\n      }\n    }\n  }\n"]);return s=function(){return e},e}function u(){var e=Object(t.a)(["\n  query GetPermissions {\n    permissions(orderBy: [{ column: PERMISSIONS_GROUP, order: ASC }]) {\n      id\n      name\n      display_name\n      description\n      permissions_group\n    }\n    branches(\n      page: 1\n      first: 100\n      orderBy: [{ column: BRANCH_NAME, order: ASC }]\n    ) {\n      data {\n        branch_code\n        branch_name\n      }\n    }\n  }\n"]);return u=function(){return e},e}var m=Object(r.gql)(u()),d=Object(r.gql)(s()),b=Object(r.gql)(l()),p=Object(r.gql)(c()),f=Object(r.gql)(o()),h=Object(r.gql)(i())},553:function(e,a,n){"use strict";var t=n(0),r=n.n(t),i=n(441);a.a=function(e){var a=e.width,n=void 0===a?"100%":a,t=e.height,o=void 0===t?60:t,c=e.className,l=void 0===c?"mb20":c;return r.a.createElement(i.a,{variant:"rect",animation:"wave",width:n,height:o,className:l})}},612:function(e,a,n){"use strict";var t=n(1),r=n(6),i=n(0),o=(n(5),n(3)),c=n(189),l=n(87),s=Object(l.a)(i.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),u=Object(l.a)(i.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),m=n(31),d=Object(l.a)(i.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),b=n(12),p=n(7),f=i.createElement(u,null),h=i.createElement(s,null),g=i.createElement(d,null),v=i.forwardRef((function(e,a){var n=e.checkedIcon,l=void 0===n?f:n,s=e.classes,u=e.color,m=void 0===u?"secondary":u,d=e.icon,p=void 0===d?h:d,v=e.indeterminate,E=void 0!==v&&v,O=e.indeterminateIcon,j=void 0===O?g:O,_=e.inputProps,S=e.size,y=void 0===S?"medium":S,C=Object(r.a)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]);return i.createElement(c.a,Object(t.a)({type:"checkbox",classes:{root:Object(o.a)(s.root,s["color".concat(Object(b.a)(m))],E&&s.indeterminate),checked:s.checked,disabled:s.disabled},color:m,inputProps:Object(t.a)({"data-indeterminate":E},_),icon:i.cloneElement(E?j:p,{fontSize:"small"===y?"small":"default"}),checkedIcon:i.cloneElement(E?j:l,{fontSize:"small"===y?"small":"default"}),ref:a},C))}));a.a=Object(p.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(m.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(m.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(v)},634:function(e,a,n){"use strict";var t=n(6),r=n(19),i=n(1),o=n(0),c=(n(5),n(3)),l=n(7),s=n(159),u=o.forwardRef((function(e,a){var n,r=e.classes,l=e.className,u=e.component,m=void 0===u?"li":u,d=e.disableGutters,b=void 0!==d&&d,p=e.ListItemClasses,f=e.role,h=void 0===f?"menuitem":f,g=e.selected,v=e.tabIndex,E=Object(t.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==v?v:-1),o.createElement(s.a,Object(i.a)({button:!0,role:h,tabIndex:n,component:m,selected:g,disableGutters:b,classes:Object(i.a)({dense:r.dense},p),className:Object(c.a)(r.root,l,g&&r.selected,!b&&r.gutters),ref:a},E))}));a.a=Object(l.a)((function(e){return{root:Object(i.a)(Object(i.a)({},e.typography.body1),{},Object(r.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(i.a)(Object(i.a)({},e.typography.body2),{},{minHeight:"auto"})}}),{name:"MuiMenuItem"})(u)},635:function(e,a,n){"use strict";var t=n(0),r=n.n(t),i=n(9);a.a=Object(i.a)(r.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9.29 16.29L5.7 12.7a.9959.9959 0 010-1.41c.39-.39 1.02-.39 1.41 0L10 14.17l6.88-6.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-7.59 7.59c-.38.39-1.02.39-1.41 0z"}),"CheckCircleRounded")},636:function(e,a,n){"use strict";var t=n(0),r=n.n(t),i=n(9);a.a=Object(i.a)(r.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"}),"CheckCircleOutlined")},688:function(e,a,n){"use strict";n.r(a),n.d(a,"default",(function(){return be}));var t=n(33),r=n(0),i=n.n(r),o=n(321),c=n(407),l=n(408),s=n(183),u=n(180),m=n(438),d=n(161),b=n.n(d),p=n(178),f=n(420),h=n(426),g=n(596),v=n(597),E=n(633),O=n(392),j=n(9),_=Object(j.a)(i.a.createElement("path",{d:"M17.65 6.35c-1.63-1.63-3.94-2.57-6.48-2.31-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20c3.19 0 5.93-1.87 7.21-4.56.32-.67-.16-1.44-.9-1.44-.37 0-.72.2-.88.53-1.13 2.43-3.84 3.97-6.8 3.31-2.22-.49-4.01-2.3-4.48-4.52C5.31 9.44 8.26 6 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71l-.64.65z"}),"RefreshRounded"),S=n(481),y=n(522),C=n(247),w=n(423),A=n(424),N=n(21),$=n(14),k=n(421),P=n(96),M=n(177),I=n(375),x=n(333),T=n(412),R=n(634),D=n(246),B=Object(D.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120}}})),z=function(e){var a=e.label,n=e.data,r=Object(M.a)(e,["label","data"]),o=Object(f.d)(r),c=Object(t.a)(o,2),l=c[0],s=c[1];B();return i.a.createElement(i.a.Fragment,null,i.a.createElement(I.a,{style:{width:"100%"},variant:"outlined"},i.a.createElement(x.a,{id:r.id},a),i.a.createElement(T.a,Object.assign({labelId:r.id,id:r.id,variant:"outlined",label:a},l,r),n.map((function(e){return i.a.createElement(R.a,{value:e.value,key:e.value},e.text)})))),s.touched&&s.error?i.a.createElement("div",{className:"oak-input-error"},s.error):null)},L=n(427),U=n(444),q=n(43),F=n(44),G=n(489),H=n(97),V=n(440),K=n(13),J=n(195),W=n(509),Y=n(377),Z=n(320),Q=n(159),X=n(160),ee=n(598),ae=n(612),ne=n(599),te=n(329),re=n(635),ie=n(636),oe=function(e){var a=e.permissions,n=e.setSelectedPermissions,c=e.selectedPermissions,l=Object(r.useState)({}),s=Object(t.a)(l,2),u=s[0],m=s[1],d=Object(r.useState)({}),b=Object(t.a)(d,2),p=b[0],f=b[1],h=a.filter((function(e){return"administrator"!==e.name})),g={},v={},E=h.map((function(e){return g["s"+e.id]=!1,v["s"+e.id]=e.id.toString(),e.permissions_group}));E=Object(W.union)(E);var O=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];for(var a in u)u[a]=e;m(Object(K.a)({},u));var t=[];if(e)for(var r in p)t.push(p[r]);n(t)};return Object(r.useEffect)((function(){m(g),f(v)}),[]),i.a.createElement(o.a,{container:!0},i.a.createElement(o.a,{item:!0,md:12,lg:12,sm:12},i.a.createElement("div",{className:"oak-select-all-view mb50"},i.a.createElement("span",null,i.a.createElement(te.a,null)," Select Permissions \xa0 |",i.a.createElement(C.a,{onClick:function(){O(!0)}},i.a.createElement(re.a,null)," Select All"),i.a.createElement(C.a,{onClick:function(){O(!1)}},i.a.createElement(ie.a,null)," Select None")))),E.map((function(e,a){var t=h.filter((function(a){return a.permissions_group===e}));return i.a.createElement(o.a,{item:!0,md:6,key:e,className:"mt20"},i.a.createElement("h4",null,e,i.a.createElement(Y.a,{variant:"fullWidth"})),i.a.createElement("div",null,i.a.createElement(Z.a,{dense:!0},t.map((function(e){return i.a.createElement(Q.a,{key:e.id},i.a.createElement(X.a,{title:e.description,placement:"top",arrow:!0},i.a.createElement(ee.a,null,i.a.createElement(ae.a,{value:p["s"+e.id]||"",id:"s"+e.id,checked:u["s"+e.id]||!1,name:"s"+e.id,color:"primary",size:"medium",className:"selectable",onChange:function(a){var t="s"+e.id,r=(u[t],Object(M.a)(u,[t].map(V.a))),i=a.target.checked;i&&e.id.toString();m(Object(K.a)(Object(K.a)({},r),{},Object(H.a)({},t,i))),function(e,a){if(e.target.checked)c.find((function(e){return e===a}))||n([a].concat(Object(J.a)(c)));else{var t=c.filter((function(e){return e!==a}));n(Object(J.a)(t))}}(a,e.id.toString())},as:ae.a}))),i.a.createElement(ne.a,{id:"sid_"+e.id,primary:e.display_name}))})))))})))},ce=n(553),le=n(181),se=n(428),ue=function(e){var a=e.avatarId,n=void 0===a?"":a,s=e.onReset,u=Object($.c)(),m=Object(r.useState)(!1),d=Object(t.a)(m,2),j=d[0],M=d[1],I=Object(r.useState)([]),x=Object(t.a)(I,2),T=x[0],R=x[1],D=Object(r.useState)([]),B=Object(t.a)(D,2),H=B[0],V=B[1],K=Object(r.useState)([]),J=Object(t.a)(K,2),W=J[0],Y=J[1],Z=Object(r.useRef)(null),Q=Object(N.useMutation)(U.c,{errorPolicy:"all",fetchPolicy:"no-cache"}),X=Object(t.a)(Q,2),ee=X[0],ae=X[1],ne=ae.error,te=ae.data,re=Object(le.b)().getConfirmation,ie=Object(N.useQuery)(G.d,{errorPolicy:"all",fetchPolicy:"no-cache"}),ue=ie.error,me=ie.data,de=ie.loading;Object(r.useEffect)((function(){(ne||te)&&M(!1),Object(q.b)(ne,u),te&&("success"===te.response.status?(s(!0),pe(),u(Object(F.a)(te.response.message,"success")),setTimeout((function(){s(!1)}),2e3)):Object(q.a)(te.response,u))}),[ne,u,te,s]),Object(r.useEffect)((function(){if(Object(q.b)(ue,u),me)if(me.permissions&&me.branches.data){V(me.permissions);var e=me.branches.data.map((function(e){return{value:e.branch_code,text:e.branch_name}}));Y(e)}else Object(q.a)(me.response,u)}),[ue,me,u]);var be=w.b({email:A.b(),password:A.e(!1),password_confirmation:A.f(),last_name:A.i(!0,1,100),first_name:A.i(!0,1,100),phone_number:A.g(!0),privilegeCombo:A.h(!0),branch_code:A.a("Please select a branch")}),pe=function(){Z.current.click()},fe=function(){var e=Object(p.a)(b.a.mark((function e(a,t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.setSubmitting,!(T.length<1&&"selected"===a.privilegeCombo)){e.next=4;break}return u(Object(F.a)("Please select permissions to assign to this user!","error")),e.abrupt("return");case 4:return e.next=6,re({title:"Attention!",type:"warning",okText:"Proceed",cancelText:"Cancel",message:"Are you sure you would like to create this user account?"});case 6:if(!e.sent){e.next=12;break}return e.next=10,ee({variables:{email:a.email,password:a.password,password_confirmation:a.password,last_name:a.last_name,first_name:a.first_name,name:a.last_name+" "+a.first_name,phone_number:a.phone_number,privilegeCombo:a.privilegeCombo,branch_code:a.branch_code.value,avatar_id:n+"",permissions:T}});case 10:r(!1),M(!1);case 12:case"end":return e.stop()}}),e)})));return function(a,n){return e.apply(this,arguments)}}();return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.c,{initialValues:{email:"",password:"",password_confirmation:"",last_name:"",first_name:"",phone_number:"",privilegeCombo:"",branch_code:{text:"",value:""}},onSubmit:fe,onReset:pe,validateOnChange:!0,validationSchema:be},(function(e){var a=e.isSubmitting,n=e.handleReset,t=e.values;return i.a.createElement(f.b,{className:""},i.a.createElement(c.a,{variant:"elevation",className:"card-box"},i.a.createElement("div",{className:"card-header"},i.a.createElement("div",{className:"card-header--title text-center d-block"},i.a.createElement("small",null,"Users"),i.a.createElement("b",null,"Personal Information"))),i.a.createElement(l.a,null,i.a.createElement(k.a,{title:"Information!",type:"info"},"Please fill in the form below to create a user account. All fields marked (*) are compulsory."),i.a.createElement(o.a,{container:!0,spacing:3,className:"pr20 pl20 mt10"},i.a.createElement(o.a,{item:!0,md:6},i.a.createElement(h.a,{id:"email",name:"email",label:"Email address *",placeholder:"Email address",icon:i.a.createElement(g.a,null)})),i.a.createElement(o.a,{item:!0,md:6},i.a.createElement(S.a,{id:"password",name:"password",label:"Password *",placeholder:"Password",icon:"true"})),i.a.createElement(o.a,{item:!0,md:6},i.a.createElement(S.a,{id:"password_confirmation",name:"password_confirmation",label:"Confirm Password",placeholder:"Confirm Password",icon:"true"})),i.a.createElement(o.a,{item:!0,md:6},i.a.createElement(h.a,{id:"last_name",name:"last_name",label:"Last Name *",placeholder:"Last Name",icon:i.a.createElement(v.a,null)})," "),i.a.createElement(o.a,{item:!0,md:6},i.a.createElement(h.a,{id:"first_name",name:"first_name",label:"First Name *",placeholder:"First Name",icon:i.a.createElement(v.a,null)})," "),i.a.createElement(o.a,{item:!0,md:6},i.a.createElement(h.a,{id:"phone_number",name:"phone_number",label:"Phone Number *",placeholder:"Phone Number",icon:i.a.createElement(E.a,null)})," "),i.a.createElement(o.a,{item:!0,md:6,lg:6,sm:6},i.a.createElement(se.a,{name:"branch_code",label:"Select Branch *",loading:de,data:W})),i.a.createElement(o.a,{item:!0,md:6,lg:6,sm:6},i.a.createElement(z,{name:"privilegeCombo",label:"User Role/Privilege *",data:L.a.privilegesComboData})),"selected"===t.privilegeCombo&&i.a.createElement(o.a,{container:!0},de?i.a.createElement(ce.a,null):i.a.createElement(oe,{permissions:H,selectedPermissions:T,setSelectedPermissions:R}))),i.a.createElement("div",{className:"mb30"})),i.a.createElement("div",{className:"divider"}),i.a.createElement(y.a,{className:"p20"},i.a.createElement(C.a,{disabled:a||j,type:"submit",className:"btn-second font-weight-bold"},a||j?i.a.createElement("div",{className:"pt5"},i.a.createElement(P.BeatLoader,{color:"var(--second)",loading:!0})):i.a.createElement(i.a.Fragment,null,i.a.createElement(O.a,null)," \xa0 Create Account")),i.a.createElement(C.a,{type:"button",ref:Z,onClick:n,className:"btn-first font-weight-bold"},i.a.createElement(_,null)," \xa0 Reset"))))})))},me=n(17),de=n(81);function be(){var e=Object(r.useState)(""),a=Object(t.a)(e,2),n=a[0],d=a[1],b=Object(r.useState)(!1),p=Object(t.a)(b,2),f=p[0],h=p[1],g=Object(me.g)(),v=Object($.d)((function(e){return e.profile}));return Object(r.useEffect)((function(){de.a.enforcePermissions(v,g,"create-account")}),[v,g]),i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{title:"Create Account"}),i.a.createElement(s.a,{titleHeading:"Create Account",titleDescription:"Create user accounts for staff, and grant access rights/permissions to them.",breadCrumbTitle:"User Accounts Mgt.",breadCrumbSubTitle:"Create Account",Icon:O.a}),i.a.createElement(o.a,{container:!0,spacing:6},i.a.createElement(o.a,{item:!0,md:4},i.a.createElement(c.a,{variant:"elevation",className:"card-box"},i.a.createElement("div",{className:"card-header"},i.a.createElement("div",{className:"card-header--title text-center d-block"},i.a.createElement("small",null,"Users"),i.a.createElement("b",null,"Upload Photograph"))),i.a.createElement(l.a,null,i.a.createElement("div",{className:"py-4 d-flex align-items-center justify-content-center"},i.a.createElement(m.a,{setAvatarId:d,model:"user",mode:"upload",model_id:"",reset:f}))))),i.a.createElement(o.a,{item:!0,md:8,className:""},i.a.createElement(ue,{avatarId:n+"",onReset:h}))))}}}]);