(this["webpackJsonpPlentySavings-admin-app"]=this["webpackJsonpPlentySavings-admin-app"]||[]).push([[22],{421:function(e,n,t){"use strict";var a=t(33),r=t(0),c=t.n(r),o=t(413),i=t(386),s=t(252),l=t(327),u=t(3);n.a=function(e){var n=e.type,t=e.children,m=e.title,d=e.className,b=void 0===d?"ml20 mr20":d,_=e.marginBottom,p=void 0===_||_,h=Object(r.useState)(!0),f=Object(a.a)(h,2),g=f[0],v=f[1];return c.a.createElement(i.a,{in:g,className:b},c.a.createElement(o.a,{className:Object(u.a)("alerts-alternate",{"mb-4":p}),severity:n,variant:"filled",action:c.a.createElement(s.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){v(!1)}},c.a.createElement(l.a,{fontSize:"inherit"}))},c.a.createElement("div",{className:"d-flex align-items-center align-content-start"},c.a.createElement("span",null,c.a.createElement("strong",{className:"d-block"},m),t))))}},429:function(e,n,t){"use strict";var a=t(0),r=t.n(a),c=t(666),o=t(667),i=t(668),s=t(612),l=t(702),u=t(246),m=Object(u.a)((function(){return{visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));n.a=function(e){var n=e.onSelectAllClick,t=e.order,a=e.orderBy,u=e.numSelected,d=e.rowCount,b=e.onRequestSort,_=e.headCells,p=m();return r.a.createElement(c.a,null,r.a.createElement(o.a,null,r.a.createElement(i.a,{padding:"checkbox"},r.a.createElement(s.a,{indeterminate:u>0&&u<d,checked:d>0&&u===d,onChange:n,inputProps:{"aria-label":"select all records"}})),_.map((function(e){return r.a.createElement(i.a,{key:e.id,style:(e.width,{width:e.width}),align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:a===e.id&&t},r.a.createElement(l.a,{active:a===e.id,direction:a===e.id?t:"asc",onClick:(n=e.id,function(e){b(e,n)})},e.label,a===e.id?r.a.createElement("span",{className:p.visuallyHidden},"desc"===t?"sorted descending":"sorted ascending"):null));var n}))))}},430:function(e,n,t){"use strict";var a=t(97),r=t(33),c=t(0),o=t.n(c),i=t(246),s=t(31),l=t(3),u=t(326),m=t(174),d=t(416),b=t(507),_=t(669),p=t(506),h=Object(i.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:"#FFF",backgroundColor:Object(s.e)("#070919",.3)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}}));n.a=function(e){var n=e.numSelected,t=e.onSearchChange,i=e.onSearchKeyPressed,s=e.children,f=e.searchValue,g=h(),v=Object(c.useState)(f),E=Object(r.a)(v,2),$=E[0],O=E[1],y=Object(p.a)((function(e){t&&t(e)}),200),S=Object(c.useCallback)((function(e){e.persist();var n=e.currentTarget.value;O(n),y.callback(e)}),[y]);return o.a.createElement(u.a,{className:Object(l.a)(g.root,Object(a.a)({},g.highlight,n>0))},n>0?o.a.createElement(m.a,{className:g.title,color:"inherit",variant:"subtitle1",component:"div"},n," selected"):o.a.createElement("div",{className:"fluid-width"},o.a.createElement("div",{className:"search-wrapper mr10 mb10"},o.a.createElement(d.a,{variant:"outlined",fullWidth:!0,size:"medium",value:$,id:"input-search",placeholder:"Search",margin:"normal",onChange:S,InputProps:{startAdornment:o.a.createElement(b.a,{position:"start"},o.a.createElement(_.a,null)),onKeyUp:function(e){i(e)}}}))),n>0&&s)}},432:function(e,n,t){"use strict";var a=t(0),r=t.n(a),c=t(441);n.a=function(){return r.a.createElement("div",{className:"mb-spacing-6-x2"},r.a.createElement("div",{className:"pl20 pr20 pb20 pt20 d-flex align-items-between justify-content-between flex-row"},r.a.createElement(c.a,{variant:"rect",animation:"wave",height:50,width:"30%",className:"mb10"}),r.a.createElement(c.a,{variant:"rect",animation:"wave",height:50,width:"30%",className:"mb10"})),r.a.createElement("div",{className:"pl20 pr20 pb20"},r.a.createElement(c.a,{variant:"rect",animation:"wave",height:60,width:"100%",className:"mb5"}),r.a.createElement(c.a,{variant:"rect",animation:"wave",height:30,width:"100%",className:"mb5"}),r.a.createElement(c.a,{variant:"rect",animation:"wave",height:30,width:"100%",className:"mb5"}),r.a.createElement(c.a,{variant:"rect",animation:"wave",height:30,width:"100%",className:"mb5"}),r.a.createElement(c.a,{variant:"rect",animation:"wave",height:30,width:"100%",className:"mb5"}),r.a.createElement(c.a,{variant:"rect",animation:"wave",height:30,width:"100%",className:"mb30"})))}},441:function(e,n,t){"use strict";var a=t(1),r=t(6),c=t(0),o=t(3),i=(t(5),t(7)),s=c.forwardRef((function(e,n){var t=e.animation,i=void 0===t?"pulse":t,s=e.classes,l=e.className,u=e.component,m=void 0===u?"span":u,d=e.height,b=e.variant,_=void 0===b?"text":b,p=e.width,h=Object(r.a)(e,["animation","classes","className","component","height","variant","width"]);return c.createElement(m,Object(a.a)({ref:n,className:Object(o.a)(s.root,s[_],l,!1!==i&&s[i])},h,{style:Object(a.a)({width:p,height:d},h.style)}))}));n.a=Object(i.a)((function(e){return{root:{display:"block",backgroundColor:e.palette.action.hover,height:"1.2em"},text:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 60%",transform:"scale(1, 0.60)",borderRadius:e.shape.borderRadius,"&:empty:before":{content:'"\\00a0"'}},rect:{},circle:{borderRadius:"50%"},pulse:{animation:"$pulse 1.5s ease-in-out 0.5s infinite"},"@keyframes pulse":{"0%":{opacity:1},"50%":{opacity:.4},"100%":{opacity:1}},wave:{position:"relative",overflow:"hidden","&::after":{animation:"$wave 1.6s linear 0.5s infinite",background:"linear-gradient(90deg, transparent, ".concat(e.palette.action.hover,", transparent)"),content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}},"@keyframes wave":{"0%":{transform:"translateX(-100%)"},"60%":{transform:"translateX(100%)"},"100%":{transform:"translateX(100%)"}}}}),{name:"MuiSkeleton"})(s)},482:function(e,n,t){"use strict";t.d(n,"a",(function(){return m})),t.d(n,"b",(function(){return d})),t.d(n,"c",(function(){return b})),t.d(n,"d",(function(){return _})),t.d(n,"e",(function(){return p})),t.d(n,"f",(function(){return h}));var a=t(47),r=t(21);function c(){var e=Object(a.a)(["\n  query GetCustomerProfile($account_number: String!) {\n    response: customer(account_number: $account_number, trashed: WITH) {\n      account_number\n      branch_code\n      title\n      name\n      last_name\n      middle_name\n      first_name\n      marital_status\n      nationality\n      means_of_identification\n      id_number\n      occupation\n      gender\n      date_of_birth\n\n      email\n      phone_number\n      birth_place\n      home_town\n      street_address\n      city\n      lga\n      state\n      registration_date\n\n      next_of_kin_name\n      next_of_kin_relationship\n      next_of_kin_phone_number\n\n      daily_contribution_amount\n      main_balance\n      payment_frequency\n      customer_type\n      account_officer\n\n      photo_url\n      photo_thumbnail_url\n      notes\n      created_by\n      account_officer_info {\n        name\n        staff_id\n      }\n\n      state_info {\n        state_name\n      }\n\n      lga_info {\n        lga_name\n      }\n\n      branch {\n        branch_code\n        branch_name\n      }\n\n      utility_bill_image_url_thumbnail\n      utility_bill_image_url\n      means_of_identification_image_url_thumbnail\n      means_of_identification_image_url\n\n      verified\n      verification_date\n      verified_by\n\n      subscribe_to_sms_alerts\n    }\n  }\n"]);return c=function(){return e},e}function o(){var e=Object(a.a)(["\n  query GetAllCustomersFilter($page: Int!, $search: Mixed!) {\n    response: customers_filter(\n      page: $page\n      orderBy: [{ column: NAME, order: ASC }]\n      where: {\n        OR: [\n          { column: ACCOUNT_NUMBER, operator: LIKE, value: $search }\n          { column: BRANCH_CODE, operator: LIKE, value: $search }\n          { column: NAME, operator: LIKE, value: $search }\n          { column: EMAIL, operator: LIKE, value: $search }\n          { column: PHONE_NUMBER, operator: LIKE, value: $search }\n          { column: MARITAL_STATUS, operator: LIKE, value: $search }\n          { column: NATIONALITY, operator: LIKE, value: $search }\n          { column: MEANS_OF_IDENTIFICATION, operator: LIKE, value: $search }\n          { column: ID_NUMBER, operator: LIKE, value: $search }\n          { column: OCCUPATION, operator: LIKE, value: $search }\n          { column: BIRTH_PLACE, operator: LIKE, value: $search }\n          { column: HOME_TOWN, operator: LIKE, value: $search }\n          { column: GENDER, operator: LIKE, value: $search }\n          { column: STREET_ADDRESS, operator: LIKE, value: $search }\n          { column: CITY, operator: LIKE, value: $search }\n          { column: LGA, operator: LIKE, value: $search }\n          { column: STATE, operator: LIKE, value: $search }\n          { column: NEXT_OF_KIN_NAME, operator: LIKE, value: $search }\n          { column: NEXT_OF_KIN_PHONE_NUMBER, operator: LIKE, value: $search }\n        ]\n      }\n      trashed: ONLY\n    ) {\n      paginatorInfo {\n        currentPage\n        lastPage\n        total\n        perPage\n        count\n      }\n      data {\n        name\n        account_number\n        phone_number\n        photo_thumbnail_url\n        occupation\n        gender\n        daily_contribution_amount\n        main_balance\n        customer_type\n        branch {\n          branch_code\n          branch_name\n        }\n        registration_date\n        verified\n      }\n    }\n  }\n"]);return o=function(){return e},e}function i(){var e=Object(a.a)(["\n  query GetAllCustomerAccounts($page: Int!) {\n    response: customers(\n      page: $page\n      orderBy: [{ column: NAME, order: ASC }]\n      trashed: ONLY\n    ) {\n      paginatorInfo {\n        currentPage\n        lastPage\n        total\n        perPage\n        count\n      }\n      data {\n        name\n        account_number\n        phone_number\n        photo_thumbnail_url\n        occupation\n        gender\n        daily_contribution_amount\n        main_balance\n        customer_type\n        branch {\n          branch_code\n          branch_name\n        }\n        registration_date\n        verified\n      }\n    }\n  }\n"]);return i=function(){return e},e}function s(){var e=Object(a.a)(["\n  query GetAllCustomersFilter(\n    $page: Int!\n    $condition: QueryCustomersFilterWhereWhereConditions!\n  ) {\n    response: customers_filter(\n      page: $page\n      orderBy: [{ column: NAME, order: ASC }]\n      where: $condition\n    ) {\n      paginatorInfo {\n        currentPage\n        lastPage\n        total\n        perPage\n        count\n      }\n      data {\n        name\n        account_number\n        phone_number\n        photo_thumbnail_url\n        occupation\n        gender\n        daily_contribution_amount\n        main_balance\n        customer_type\n        branch {\n          branch_code\n          branch_name\n        }\n        registration_date\n        verified\n      }\n    }\n  }\n"]);return s=function(){return e},e}function l(){var e=Object(a.a)(["\n  query GetAllCustomersFilter($page: Int!, $search: Mixed!) {\n    response: customers_filter(\n      page: $page\n      orderBy: [{ column: NAME, order: ASC }]\n      where: {\n        OR: [\n          { column: ACCOUNT_NUMBER, operator: LIKE, value: $search }\n          { column: BRANCH_CODE, operator: LIKE, value: $search }\n          { column: NAME, operator: LIKE, value: $search }\n          { column: EMAIL, operator: LIKE, value: $search }\n          { column: PHONE_NUMBER, operator: LIKE, value: $search }\n          { column: MARITAL_STATUS, operator: LIKE, value: $search }\n          { column: NATIONALITY, operator: LIKE, value: $search }\n          { column: MEANS_OF_IDENTIFICATION, operator: LIKE, value: $search }\n          { column: ID_NUMBER, operator: LIKE, value: $search }\n          { column: OCCUPATION, operator: LIKE, value: $search }\n          { column: BIRTH_PLACE, operator: LIKE, value: $search }\n          { column: HOME_TOWN, operator: LIKE, value: $search }\n          { column: GENDER, operator: LIKE, value: $search }\n          { column: STREET_ADDRESS, operator: LIKE, value: $search }\n          { column: CITY, operator: LIKE, value: $search }\n          { column: LGA, operator: LIKE, value: $search }\n          { column: STATE, operator: LIKE, value: $search }\n          { column: NEXT_OF_KIN_NAME, operator: LIKE, value: $search }\n          { column: NEXT_OF_KIN_PHONE_NUMBER, operator: LIKE, value: $search }\n        ]\n      }\n    ) {\n      paginatorInfo {\n        currentPage\n        lastPage\n        total\n        perPage\n        count\n      }\n      data {\n        name\n        account_number\n        phone_number\n        photo_thumbnail_url\n        occupation\n        gender\n        daily_contribution_amount\n        main_balance\n        customer_type\n        branch {\n          branch_code\n          branch_name\n        }\n        registration_date\n        verified\n      }\n    }\n  }\n"]);return l=function(){return e},e}function u(){var e=Object(a.a)(["\n  query GetAllCustomerAccounts($page: Int!) {\n    response: customers(page: $page, orderBy: [{ column: NAME, order: ASC }]) {\n      paginatorInfo {\n        currentPage\n        lastPage\n        total\n        perPage\n        count\n      }\n      data {\n        name\n        account_number\n        phone_number\n        photo_thumbnail_url\n        occupation\n        gender\n        daily_contribution_amount\n        main_balance\n        customer_type\n        branch {\n          branch_code\n          branch_name\n        }\n        registration_date\n        verified\n      }\n    }\n  }\n"]);return u=function(){return e},e}var m=Object(r.gql)(u()),d=Object(r.gql)(l()),b=Object(r.gql)(s()),_=Object(r.gql)(i()),p=Object(r.gql)(o()),h=Object(r.gql)(c())},483:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"c",(function(){return m})),t.d(n,"b",(function(){return d})),t.d(n,"e",(function(){return b})),t.d(n,"d",(function(){return _}));var a=t(47),r=t(21);function c(){var e=Object(a.a)(["\n  mutation RestoreCustomerAccounts($account_numbers: [String!]!) {\n    response: restore_customers(account_numbers: $account_numbers) {\n      __typename\n      ... on Response {\n        status\n        code\n        message\n        errors\n      }\n      ... on StatusResponse {\n        status\n        code\n        message\n        ids\n      }\n    }\n  }\n"]);return c=function(){return e},e}function o(){var e=Object(a.a)(["\n  mutation VerifyCustomerAccounts($account_numbers: [String!]!) {\n    response: verify_customers(account_numbers: $account_numbers) {\n      __typename\n      ... on Response {\n        status\n        code\n        message\n        errors\n      }\n      ... on StatusResponse {\n        status\n        code\n        message\n        ids\n      }\n    }\n  }\n"]);return o=function(){return e},e}function i(){var e=Object(a.a)(["\n  mutation DeleteCustomerAccounts(\n    $account_numbers: [String!]!\n    $status: String!\n  ) {\n    response: delete_customers(\n      account_numbers: $account_numbers\n      status: $status\n    ) {\n      __typename\n      ... on Response {\n        status\n        code\n        message\n        errors\n      }\n      ... on StatusResponse {\n        status\n        code\n        message\n        ids\n      }\n    }\n  }\n"]);return i=function(){return e},e}function s(){var e=Object(a.a)(["\n  mutation EditCustomerAccount(\n    $account_id: String!\n    $account_number: String!\n    $account_officer: String!\n    $branch_code: String!\n    $title: String!\n    $name: String!\n    $last_name: String!\n    $middle_name: String\n    $first_name: String!\n    $marital_status: String!\n    $nationality: String!\n    $means_of_identification: String\n    $id_number: String\n    $occupation: String\n    $gender: String!\n    $date_of_birth: String!\n    $email: String\n    $phone_number: String\n    $birth_place: String\n    $home_town: String\n    $street_address: String\n    $city: String!\n    $lga: String!\n    $state: String!\n    $registration_date: String!\n    $subscribe_to_sms_alerts: String!\n    $daily_contribution_amount: String!\n    $customer_type: String!\n    $notes: String\n    $next_of_kin_name: String\n    $next_of_kin_relationship: String\n    $next_of_kin_phone_number: String\n  ) {\n    response: update_customer(\n      account_id: $account_id\n      account_number: $account_number\n      account_officer: $account_officer\n      branch_code: $branch_code\n\n      title: $title\n      name: $name\n      last_name: $last_name\n      middle_name: $middle_name\n      first_name: $first_name\n      marital_status: $marital_status\n      nationality: $nationality\n      means_of_identification: $means_of_identification\n      id_number: $id_number\n      occupation: $occupation\n      gender: $gender\n      date_of_birth: $date_of_birth\n\n      email: $email\n      phone_number: $phone_number\n      birth_place: $birth_place\n      home_town: $home_town\n      street_address: $street_address\n      city: $city\n      lga: $lga\n      state: $state\n      registration_date: $registration_date\n\n      subscribe_to_sms_alerts: $subscribe_to_sms_alerts\n      daily_contribution_amount: $daily_contribution_amount\n      customer_type: $customer_type\n      notes: $notes\n\n      next_of_kin_name: $next_of_kin_name\n      next_of_kin_relationship: $next_of_kin_relationship\n      next_of_kin_phone_number: $next_of_kin_phone_number\n    ) {\n      status\n      code\n      message\n      errors\n    }\n  }\n"]);return s=function(){return e},e}function l(){var e=Object(a.a)(["\n  mutation CreateCustomerAccount(\n    $account_number: String!\n    $account_officer: String!\n    $branch_code: String!\n    $title: String!\n    $name: String!\n    $last_name: String!\n    $middle_name: String\n    $first_name: String!\n    $marital_status: String!\n    $nationality: String!\n    $means_of_identification: String\n    $id_number: String\n    $occupation: String\n    $gender: String!\n    $date_of_birth: String!\n    $email: String\n    $phone_number: String\n    $birth_place: String\n    $home_town: String\n    $street_address: String\n    $city: String!\n    $lga: String!\n    $state: String!\n    $registration_date: String!\n    $subscribe_to_sms_alerts: String!\n    $daily_contribution_amount: String!\n    $customer_type: String!\n    $notes: String\n    $next_of_kin_name: String\n    $next_of_kin_relationship: String\n    $next_of_kin_phone_number: String\n    $avatar_id: String!\n    $utility_bill_image: String\n    $means_of_identification_image: String\n  ) {\n    response: register_customer(\n      account_number: $account_number\n      account_officer: $account_officer\n      branch_code: $branch_code\n\n      title: $title\n      name: $name\n      last_name: $last_name\n      middle_name: $middle_name\n      first_name: $first_name\n      marital_status: $marital_status\n      nationality: $nationality\n      means_of_identification: $means_of_identification\n      id_number: $id_number\n      occupation: $occupation\n      gender: $gender\n      date_of_birth: $date_of_birth\n\n      email: $email\n      phone_number: $phone_number\n      birth_place: $birth_place\n      home_town: $home_town\n      street_address: $street_address\n      city: $city\n      lga: $lga\n      state: $state\n      registration_date: $registration_date\n\n      subscribe_to_sms_alerts: $subscribe_to_sms_alerts\n      daily_contribution_amount: $daily_contribution_amount\n      customer_type: $customer_type\n      notes: $notes\n\n      next_of_kin_name: $next_of_kin_name\n      next_of_kin_relationship: $next_of_kin_relationship\n      next_of_kin_phone_number: $next_of_kin_phone_number\n\n      avatar_id: $avatar_id\n      utility_bill_image: $utility_bill_image\n      means_of_identification_image: $means_of_identification_image\n    ) {\n      status\n      code\n      message\n      errors\n    }\n  }\n"]);return l=function(){return e},e}var u=Object(r.gql)(l()),m=Object(r.gql)(s()),d=Object(r.gql)(i()),b=Object(r.gql)(o()),_=Object(r.gql)(c())},501:function(e,n,t){"use strict";var a=t(0),r=t.n(a),c=t(9);n.a=Object(c.a)(r.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zm3.17-7.83c.39-.39 1.02-.39 1.41 0L12 12.59l1.42-1.42c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41L13.41 14l1.42 1.42c.39.39.39 1.02 0 1.41-.39.39-1.02.39-1.41 0L12 15.41l-1.42 1.42c-.39.39-1.02.39-1.41 0a.9959.9959 0 010-1.41L10.59 14l-1.42-1.42c-.39-.38-.39-1.02 0-1.41zM15.5 4l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1h-2.5z"}),"DeleteForeverRounded")},506:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var a=t(0);function r(e,n,t){var r=this,c=Object(a.useRef)(null),o=Object(a.useRef)(0),i=Object(a.useRef)(null),s=Object(a.useRef)([]),l=Object(a.useRef)(),u=Object(a.useRef)(),m=Object(a.useRef)(e),d=Object(a.useRef)(!0);m.current=e;var b=!n&&0!==n&&"undefined"!==typeof window;if("function"!==typeof e)throw new TypeError("Expected a function");n=+n||0;var _=!!(t=t||{}).leading,p=!("trailing"in t)||!!t.trailing,h="maxWait"in t,f=h?Math.max(+t.maxWait||0,n):null,g=Object(a.useCallback)((function(e){var n=s.current,t=l.current;return s.current=l.current=null,o.current=e,u.current=m.current.apply(t,n)}),[]),v=Object(a.useCallback)((function(e,n){b&&cancelAnimationFrame(i.current),i.current=b?requestAnimationFrame(e):setTimeout(e,n)}),[b]),E=Object(a.useCallback)((function(e){if(!d.current)return!1;var t=e-c.current,a=e-o.current;return!c.current||t>=n||t<0||h&&a>=f}),[f,h,n]),$=Object(a.useCallback)((function(e){return i.current=null,p&&s.current?g(e):(s.current=l.current=null,u.current)}),[g,p]),O=Object(a.useCallback)((function(){var e=Date.now();if(E(e))return $(e);var t=e-c.current,a=e-o.current,r=n-t,i=h?Math.min(r,f-a):r;v(O,i)}),[f,h,E,v,$,n]),y=Object(a.useCallback)((function(){i.current&&(b?cancelAnimationFrame(i.current):clearTimeout(i.current)),o.current=0,s.current=c.current=l.current=i.current=null}),[b]),S=Object(a.useCallback)((function(){return i.current?$(Date.now()):u.current}),[$]);Object(a.useEffect)((function(){return d.current=!0,function(){d.current=!1}}),[]);var j=Object(a.useCallback)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=Date.now(),m=E(a);if(s.current=e,l.current=r,c.current=a,m){if(!i.current&&d.current)return o.current=c.current,v(O,n),_?g(c.current):u.current;if(h)return v(O,n),g(c.current)}return i.current||v(O,n),u.current}),[g,_,h,E,v,O,n]),N=Object(a.useCallback)((function(){return!!i.current}),[]);return Object(a.useMemo)((function(){return{callback:j,cancel:y,flush:S,pending:N}}),[j,y,S,N])}},507:function(e,n,t){"use strict";var a=t(1),r=t(6),c=t(0),o=(t(5),t(3)),i=t(174),s=t(7),l=t(89),u=c.forwardRef((function(e,n){var t=e.children,s=e.classes,u=e.className,m=e.component,d=void 0===m?"div":m,b=e.disablePointerEvents,_=void 0!==b&&b,p=e.disableTypography,h=void 0!==p&&p,f=e.position,g=e.variant,v=Object(r.a)(e,["children","classes","className","component","disablePointerEvents","disableTypography","position","variant"]),E=Object(l.b)()||{},$=g;return g&&E.variant,E&&!$&&($=E.variant),c.createElement(l.a.Provider,{value:null},c.createElement(d,Object(a.a)({className:Object(o.a)(s.root,u,_&&s.disablePointerEvents,E.hiddenLabel&&s.hiddenLabel,"filled"===$&&s.filled,{start:s.positionStart,end:s.positionEnd}[f],"dense"===E.margin&&s.marginDense),ref:n},v),"string"!==typeof t||h?t:c.createElement(i.a,{color:"textSecondary"},t)))}));n.a=Object(s.a)({root:{display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap"},filled:{"&$positionStart:not($hiddenLabel)":{marginTop:16}},positionStart:{marginRight:8},positionEnd:{marginLeft:8},disablePointerEvents:{pointerEvents:"none"},hiddenLabel:{},marginDense:{}},{name:"MuiInputAdornment"})(u)},603:function(e,n,t){"use strict";var a=t(0),r=t.n(a),c=t(9);n.a=Object(c.a)(r.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zm5.65-8.65c.2-.2.51-.2.71 0L16 14h-2v4h-4v-4H8l3.65-3.65zM15.5 4l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1h-2.5z"}),"RestoreFromTrashRounded")},699:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return re}));var a=t(0),r=t.n(a),c=t(321),o=t(407),i=t(160),s=t(247),l=t(408),u=t(183),m=t(180),d=t(390),b=t(387),_=t(11),p=t(421),h=t(17),f=t(14),g=t(81),v=t(161),E=t.n(v),$=t(178),O=t(97),y=t(13),S=t(177),j=t(440),N=t(33),w=t(246),C=t(122),x=t(670),I=t(671),k=t(672),L=t(673),A=t(667),P=t(668),T=t(612),R=t(244),K=t(634),M=t(377),B=t(685),D=t(429),H=t(3),F=t(21),q=t(44),z=t(22),U=t(603),V=t(501),G=t(674),W=t(432),X=t(430),Y=t(163),Q=t(45),J=t(181),Z=t(482),ee=t(483),ne=Object(w.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(0)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),te=[{id:"sn",width:"10px",numeric:!1,disablePadding:!1,label:"S/N"},{id:"action",width:"60px",numeric:!1,disablePadding:!1,label:"Action"},{id:"name",width:"",numeric:!1,disablePadding:!1,label:"Name"},{id:"status",width:"",numeric:!1,disablePadding:!1,label:"Status"},{id:"account_number",width:"",numeric:!1,disablePadding:!1,label:"Account Number"},{id:"daily",width:"",numeric:!1,disablePadding:!1,label:"Daily Contribution"},{id:"phone",width:"",numeric:!1,disablePadding:!1,label:"Phone Number"},{id:"gender",width:"",numeric:!1,disablePadding:!1,label:"Gender"},{id:"branch",width:"",numeric:!1,disablePadding:!1,label:"Branch"}];function ae(){var e=ne(),n=Object(f.c)(),t=r.a.useState("page"),a=Object(N.a)(t,2),c=a[0],o=a[1],l=r.a.useState(""),u=Object(N.a)(l,2),m=u[0],b=u[1],_=r.a.useState("asc"),p=Object(N.a)(_,2),h=p[0],v=p[1],w=r.a.useState("calories"),ae=Object(N.a)(w,2),re=ae[0],ce=ae[1],oe=r.a.useState([]),ie=Object(N.a)(oe,2),se=ie[0],le=ie[1],ue=r.a.useState([]),me=Object(N.a)(ue,2),de=me[0],be=me[1],_e=r.a.useState(1),pe=Object(N.a)(_e,2),he=pe[0],fe=pe[1],ge=r.a.useState(0),ve=Object(N.a)(ge,2),Ee=ve[0],$e=ve[1],Oe=r.a.useState(10),ye=Object(N.a)(Oe,2),Se=ye[0],je=ye[1],Ne=r.a.useState([]),we=Object(N.a)(Ne,2),Ce=we[0],xe=we[1],Ie=r.a.useState(!0),ke=Object(N.a)(Ie,2),Le=ke[0],Ae=ke[1],Pe=Object(J.b)().getConfirmation,Te=Math.trunc(Ee/Se),Re=Ee/Se,Ke=Re>Te?Te+1:Re,Me=function(e){e&&(e.response.data&&e.response.paginatorInfo?(be(e.response.data.map((function(e){return Object.assign(e,{show:!0})}))),fe(parseInt(e.response.paginatorInfo.currentPage)),je(parseInt(e.response.paginatorInfo.perPage)),$e(parseInt(e.response.paginatorInfo.total))):Object(q.a)(e.response,n)),Ae(!1)},Be=function(e,t){if(e)if(n(Object(Y.a)()),"success"===e.response.status){var a=[];if(e.response.ids&&(a=e.response.ids),"delete"===t||"restore"===t){var r=de.filter((function(e){return-1===a.indexOf(e.account_number)}));be(r)}le([]),n(Object(Q.a)(e.response.message,"success"))}else Object(q.a)(e.response,n)},De=function(e){Object(q.b)(e,n)},He=Object(F.useQuery)(Z.d,{errorPolicy:"all",fetchPolicy:"no-cache",variables:{page:1},onCompleted:function(e){Me(e),o("page")},onError:De}).loading,Fe=Object(F.useLazyQuery)(Z.d,{errorPolicy:"all",fetchPolicy:"no-cache",onCompleted:function(e){Me(e),o("page")},onError:De}),qe=Object(N.a)(Fe,2),ze=qe[0],Ue=qe[1].loading,Ve=Object(F.useLazyQuery)(Z.e,{errorPolicy:"all",fetchPolicy:"no-cache",onCompleted:function(e){Me(e),o("search")},onError:De}),Ge=Object(N.a)(Ve,2),We=Ge[0],Xe=Ge[1].loading,Ye=Object(F.useMutation)(ee.d,{errorPolicy:"all",fetchPolicy:"no-cache",onCompleted:function(e){Be(e,"restore")},onError:De}),Qe=Object(N.a)(Ye,1)[0],Je=Object(F.useMutation)(ee.b,{errorPolicy:"all",fetchPolicy:"no-cache",onCompleted:function(e){Be(e,"delete")},onError:De}),Ze=Object(N.a)(Je,1)[0],en=function(e,n){var t="a".concat(n);if(Ce["a"+n]){Ce[t];var a=Object(S.a)(Ce,[t].map(j.a));xe(Object(y.a)(Object(y.a)({},a),{},Object(O.a)({},t,null)))}},nn=function(){var e=Object($.a)(E.a.mark((function e(n,t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ae(!0),a="%".concat(m,"%"),"search"!==c){e.next=7;break}return e.next=5,We({variables:{page:t,search:a}});case 5:e.next=9;break;case 7:return e.next=9,ze({variables:{page:t}});case 9:fe(t);case 10:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),tn=function(){var e=Object($.a)(E.a.mark((function e(n){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(13!==n.keyCode){e.next=6;break}return t=n.target.value,e.next=4,We({variables:{page:1,search:"%".concat(t,"%")}});case 4:fe(1),b(t);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),an=function(){var e=Object($.a)(E.a.mark((function e(){var t,a,r,c=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:[],0!==(a=0===t.length?se:t).length){e.next=6;break}return r="Please select the customer records to restore!",n(Object(Q.a)(r,"error")),e.abrupt("return");case 6:return e.next=8,Pe({title:"Attention!",type:"warning",okText:"Proceed",cancelText:"Cancel",message:"Are you sure you would like to restore the selected customer(s) from trash?"});case 8:if(!e.sent){e.next=13;break}return n(Object(Y.a)(!0)),e.next=13,Qe({variables:{account_numbers:a}});case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),rn=function(){var e=Object($.a)(E.a.mark((function e(){var t,a,r,c,o=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:[],a=o.length>1&&void 0!==o[1]?o[1]:"force",0!==(r=0===t.length?se:t).length){e.next=7;break}return c="Please select the customers to delete permanently!",n(Object(Q.a)(c,"error")),e.abrupt("return");case 7:return console.log({account_numbers:r,status:a}),c="Are you sure you would like to delete the selected customer(s) permanently?. This action will delete their records and all investments from the database. Please note that this action is irreversible.",e.next=11,Pe({title:"Attention!",type:"warning",okText:"Proceed",cancelText:"Cancel",message:c});case 11:if(!e.sent){e.next=16;break}return n(Object(Y.a)(!0)),e.next=16,Ze({variables:{account_numbers:r,status:a}});case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:e.root},He||Ue||Xe||Le?r.a.createElement(C.a,{className:e.paper},r.a.createElement(W.a,null)):r.a.createElement(C.a,{className:e.paper},r.a.createElement(X.a,{numSelected:se.length,onSearchChange:function(e){var n=e.target.value;n&&(n=n.toLowerCase());var t=de.map((function(e){return-1!==e.name.toLowerCase().indexOf(n)||-1!==e.account_number.toLowerCase().indexOf(n)||-1!==e.phone_number.toLowerCase().indexOf(n)||-1!==e.occupation.toLowerCase().indexOf(n)||-1!==e.gender.toLowerCase().indexOf(n)||-1!==e.branch.branch_code.toLowerCase().indexOf(n)||-1!==e.branch.branch_name.toLowerCase().indexOf(n)?e.show=!0:e.show=!1,e}));be(t)},searchValue:m,setSearchValue:b,onSearchKeyPressed:tn},r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{size:"medium",className:"m-2",color:"primary","aria-label":"outlined primary button group"},r.a.createElement(i.a,{title:"Restore the selected accounts from trash"},r.a.createElement(s.a,{className:"btn-transition-none mr10 btn-neutral-first text-white",onClick:function(){an([])}},r.a.createElement(U.a,{className:"mr5"})," Restore")),r.a.createElement(i.a,{title:"Delete the selected accounts permanently"},r.a.createElement(s.a,{className:"btn-transition-none btn-neutral-first text-white",onClick:function(){rn([])}},r.a.createElement(V.a,{className:"mr5"})," Delete"))))),r.a.createElement(I.a,{className:"pb30"},r.a.createElement(k.a,{className:Object(H.a)(e.table,"table text-nowrap mb-0"),"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table"},r.a.createElement(D.a,{classes:e,numSelected:se.length,order:h,orderBy:re,onSelectAllClick:function(e){if(e.target.checked){var n=de.map((function(e){return e.account_number}));le(n)}else le([])},onRequestSort:function(e,n){v(re===n&&"asc"===h?"desc":"asc"),ce(n)},headCells:te,rowCount:de.length}),r.a.createElement(L.a,null,Object(g.f)(de,Object(g.c)(h,re)).map((function(e,n){var t,a,c=(a=e.account_number,-1!==se.indexOf(a)),o="enhanced-table-checkbox-".concat(n),i="yes"===(null===(t=e.verified)||void 0===t?void 0:t.toLowerCase())?r.a.createElement("div",{className:"badge badge-primary text-white px-4"},"Verified"):r.a.createElement("div",{className:"badge badge-warning text-white px-4"},"Not Verified"),l=Se*(he-1)+(n+1);return e.show?r.a.createElement(A.a,{hover:!0,onClick:function(n){return function(e,n){var t=se.indexOf(n),a=[];-1===t?a=a.concat(se,n):0===t?a=a.concat(se.slice(1)):t===se.length-1?a=a.concat(se.slice(0,-1)):t>0&&(a=a.concat(se.slice(0,t),se.slice(t+1))),le(a)}(0,e.account_number)},role:"checkbox","aria-checked":c,tabIndex:-1,key:e.account_number,selected:c},r.a.createElement(P.a,{padding:"checkbox"},r.a.createElement(T.a,{checked:c,inputProps:{"aria-labelledby":o}})),r.a.createElement(P.a,{align:"left"},l),r.a.createElement(P.a,{padding:"none"},r.a.createElement(s.a,{size:"small",onClick:function(e){!function(e,n){var t=e.currentTarget,a="a".concat(n);if(Ce["a"+n]){Ce[a];var r=Object(S.a)(Ce,[a].map(j.a));xe(Object(y.a)(Object(y.a)({},r),{},Object(O.a)({},a,t)))}else xe(Object(y.a)(Object(y.a)({},Ce),{},Object(O.a)({},a,t)))}(e,n)},className:"btn-second btn-icon d-40 p-0 btn-animated-icon-sm"},r.a.createElement(z.a,{icon:["fas","ellipsis-h"],className:"font-size-lg"})),r.a.createElement(R.a,{anchorEl:Ce["a"+n],open:Boolean(Ce["a"+n]),keepMounted:!0,onClose:function(e){en(0,n)},classes:{list:"p-0"},getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},r.a.createElement(K.a,{button:!0,onClick:function(t){en(0,n),rn([e.account_number])}},r.a.createElement("div",{className:"mr10"},r.a.createElement(V.a,null)),r.a.createElement("span",null,"Delete Forever")),r.a.createElement(M.a,{className:"my-2"}),r.a.createElement(K.a,{button:!0,onClick:function(t){en(0,n),an([e.account_number])}},r.a.createElement("div",{className:"mr10"},r.a.createElement(U.a,null)),r.a.createElement("span",null,"Restore Record")),r.a.createElement(M.a,{className:"my-2"}),r.a.createElement(K.a,{button:!0,onClick:function(t){var a="/print/customers/view/".concat(e.account_number);en(0,n),g.a.launchNewWindow(a,1e3,700)}},r.a.createElement("div",{className:"mr10"},r.a.createElement(d.a,null)),r.a.createElement("span",null,"View Profile")))),r.a.createElement(P.a,{component:"th",id:o,scope:"row",padding:"none"},r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("div",{className:"avatar-icon-wrapper mr-3"},r.a.createElement("div",{className:"avatar-icon"},r.a.createElement("img",{alt:"...",src:e.photo_thumbnail_url}))),r.a.createElement("div",null,r.a.createElement("span",{className:"font-weight-bold text-black",title:"..."},e.name),r.a.createElement("span",{className:"text-black-50 d-block"},"Customer")))),r.a.createElement(P.a,{align:"left"},i),r.a.createElement(P.a,{align:"left"},e.account_number),r.a.createElement(P.a,{align:"left"},"\u20a6",parseInt(e.daily_contribution_amount).toLocaleString()),r.a.createElement(P.a,{align:"left"},e.phone_number||"-N/A-"),r.a.createElement(P.a,{align:"left"},e.gender),r.a.createElement(P.a,{align:"left"},e.branch.branch_name)):null})),0===de.length&&r.a.createElement(A.a,{style:{height:53}},r.a.createElement(P.a,{colSpan:11,className:"bg-gray-300"},r.a.createElement(G.a,null)," No records found"))))),r.a.createElement("div",{className:"card-footer py-3 d-flex justify-content-between"},r.a.createElement(B.a,{className:"pagination-second",variant:"outlined",page:he,onChange:nn,count:Ke}))))}function re(){var e=Object(h.g)(),n=Object(f.d)((function(e){return e.profile}));return Object(a.useEffect)((function(){g.a.enforcePermissions(n,e,"view-customers")}),[n,e]),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{title:"View Customers (Trash)"}),r.a.createElement(u.a,{titleHeading:"View Customers (Trash)",titleDescription:"Manage all customer records that have been moved to trash (deleted).",breadCrumbTitle:"Customers",breadCrumbSubTitle:"View Customers",Icon:d.a}),r.a.createElement(c.a,null,r.a.createElement(o.a,{className:"card-box mb-spacing-6-x2"},r.a.createElement("div",{className:"card-header pr-2"},r.a.createElement("div",{className:"card-header--title"},r.a.createElement("small",null,"CUSTOMERS"),r.a.createElement("b",null,"List of deleted customers")),r.a.createElement("div",{className:"card-header--actions"},r.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},r.a.createElement(i.a,{arrow:!0,title:"Register Customer",placement:"top"},r.a.createElement(_.b,{to:"/customers/create"},r.a.createElement(s.a,{variant:"text",className:"btn-outline-second d-40 mr-2 p-0 rounded-pill"},r.a.createElement(b.a,{className:"w-50"}))))))),r.a.createElement(l.a,{className:"p-0"},r.a.createElement(p.a,{title:"How to Use!",type:"info",className:"",marginBottom:!1},"The table below shows the list of customers that have been deleted from the system. To perform an action (delete, restore etc) on any record, please select an action from the action menu close to the record"),r.a.createElement(c.a,{item:!0,md:12},r.a.createElement(ae,null))))))}}}]);